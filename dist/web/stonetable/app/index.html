<!DOCTYPE html><html dir=ltr lang=en-US><head><meta charset=utf-8><title>Stonetable</title><meta http-equiv=Content-Security-Policy content="default-src 'self'; connect-src *; style-src 'sha256-JcoqIY8mUOH1A7MViu07325nLTkrfkotMIbvDqc4RkA='; script-src 'sha256-BFoazzTtf2Kr1qB0/TPVo83nEc/1HLRlntBSEDEKD8M='"><meta name=viewport content="width=device-width,initial-scale=1,user-scalable=yes"><meta name=robots content=noindex,nofollow><meta name=application-name content=Stonetable data-app-version=1.0.1 data-app-api-latest-version=https://www.lwis.net/stonetable/api/latest-version.json><meta name=referrer content=no-referrer><meta name=description content="Web application component to the Stonetable PHP project build testing and debugging suite"><meta name=creator content="LWIS Technologies"><link rel=manifest href=manifest.webmanifest><link rel=icon href=assets/images/favicon.ico type=image/x-icon><link rel=icon href=assets/images/logo.svg type=image/svg+xml sizes=any><link rel=apple-touch-icon href=assets/images/stonetable-os-icon-180x180.png><style>@layer base,appcodemessages,layout,accessories;@layer base{:root{--bg-color:#fff;--bg-text-color:#1e1e1e;--bg-color-restrained:#666;--mg-color:#eee;--mg-text-color:var(--bg-text-color);--fg-color:#ddd;--fg-text-color:var(--mg-text-color);--divider-color:#bbb;--accent-color:#4169e1;--accent-text-color:#ccc;--base-bar-height:45px;--base-bar-offset:3px;--decorative-radius:5px;--divider-size:1px;--base-bar-offset-height:calc(var(--base-bar-height) + var(--base-bar-offset)*2);--base-bar-offset-double:calc(var(--base-bar-offset)*2);--divider-size-negative:calc(0px - var(--divider-size));color-scheme:light dark}:root[data-theme=light]{color-scheme:light}:root[data-theme=dark]{--bg-color:#1e1e1e;--bg-text-color:#ccc;--bg-color-restrained:#666;--mg-color:#111;--mg-text-color:var(--bg-text-color);--fg-color:#161616;--fg-text-color:var(--mg-text-color);--divider-color:var(--mg-color);color-scheme:dark}*,:after,:before{-webkit-tap-highlight-color:transparent;box-sizing:border-box}:any-link{color:inherit;text-decoration:underline;text-decoration-skip-ink:all}::backdrop{backdrop-filter:blur(3px);-webkit-backdrop-filter:blur(3px)}::placeholder{opacity:0}html{font:16px/1.5 system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif}body{--current-background-color:var(--bg-color);text-size-adjust:none;-webkit-text-size-adjust:100%;background-color:var(--current-background-color);color:var(--bg-text-color)}p{margin:1em 0}h1,h2{font-size:1.5em;margin:1em 0 .5em}button{appearance:none;background-color:initial;border:0;border-radius:var(--decorative-radius);color:inherit;cursor:pointer;display:block;font:inherit;line-height:19px;min-height:var(--base-bar-height);outline-offset:-1px;padding:var(--base-bar-offset) 12px;position:relative;text-align:center}button:hover{--current-background-color:var(--mg-color);background-color:var(--current-background-color)}button:focus{box-shadow:0 0 0 1px var(--accent-color) inset;outline:0}menu,ol,ul{list-style:none;margin:0;padding:0}label{cursor:pointer}input{background:none;border:0;color:inherit;font:inherit;padding:0}input:focus{outline:0}[type=search],[type=text],[type=url]{height:var(--base-bar-height);text-overflow:ellipsis ellipsis}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration,[type=search]::-webkit-search-results-button,[type=search]::-webkit-search-results-decoration{display:none}mark{background-color:var(--accent-color);color:var(--accent-text-color)}.h{display:block}.fld input:disabled+.mty-ctrl,.lst-ftr :disabled,.lst.no-rslt .fld-srch,.lst:not(.no-data) .msg-mty{display:none}.scr.welcome .cont-btn:disabled:not(.wtng){pointer-events:none;visibility:hidden}.scr{--current-background-color:var(--bg-color)}.pp,.scr{background-color:var(--current-background-color)}.pp{--current-background-color:var(--mg-color);border-radius:var(--decorative-radius)}.pp button:hover{--current-background-color:var(--fg-color)}.shrt-notif{background-color:var(--accent-color);border-radius:var(--decorative-radius);color:var(--accent-text-color);cursor:default}dialog{--current-background-color:var(--mg-color);background-color:var(--current-background-color);text-align:center}.abt-lwis .lwis-logo path{fill:currentColor}}@layer appcodemessages{.code-msg{border:1px dashed #ccc;display:flex;flex-direction:column;gap:1em;margin:15px 0 0;padding:15px}.code-msg>*{margin:0}.code-msg :any-link{text-decoration:underline;text-decoration-color:#666;text-decoration-style:dotted;text-underline-offset:4px}.code-msg :any-link:hover{text-decoration-style:solid}.code-msg .code,.code-msg a{overflow-wrap:anywhere}.code-msg code{font-family:Menlo,Monaco,Courier New,monospace}.code-msg code.var{color:var(--code-variable-name-color,#add8e6)}.code-msg .arg-l{display:flex;flex-wrap:wrap;list-style-type:none;margin:0;padding:0}.code-msg .arg-l:before{content:"("}.code-msg .arg-l:after{content:")"}.code-msg .arg-l>li{counter-increment:argument-counter}.code-msg .arg-l>li:before{background-color:#111;border-radius:5px;content:counter(argument-counter);display:inline-flex;font-size:80%;padding:1px 3px}.code-msg .arg-l>li:not(:last-child){margin-right:5px}.code-msg .arg-l>li:not(:last-child):after{content:","}.code-msg .arg-l .type{color:#559cd6;font-family:Menlo,Monaco,Courier New,monospace;font-size:80%}.code-msg dl{column-gap:15px;display:grid;grid-template-columns:max-content 1fr;margin:0}.code-msg dl>dd{margin:0}.code-msg [reversed]{list-style-type:decimal;padding-left:40px}.code-msg-err{border-color:#e42a2a}.code-msg-warn{border-color:#f48424}.code-msg-note{border-color:#ece130}.code-msg-dep{border-color:#516f79}.o{border-width:1px;border-bottom:1px dashed var(--bg-color-restrained);border-left:0 dashed var(--bg-color-restrained);border-right:0 dashed var(--bg-color-restrained);border-top:1px dashed var(--bg-color-restrained);font:13px/1.5 Menlo,Monaco,Courier New,monospace;padding:20px 12px;white-space:pre-wrap}}@layer appcodemessages{.o :any-link{text-decoration:underline;text-decoration-skip-ink:auto;text-decoration-skip-ink:all;text-decoration-style:dotted;text-underline-offset:3px}.o :any-link:hover{text-decoration-style:solid}.code-msg{border-width:1px 0;padding:20px 12px}.code-msg .code-msg{border-width:1px;margin-top:1em}.code-msg .arg-l>li:before{background-color:var(--mg-color)}.code-msg [reversed]>li::marker{color:var(--bg-color-restrained)}}@layer layout{body,html{height:100%;margin:0;overflow:hidden;padding:0}body{min-width:320px}button{margin:auto}menu,menu>ul{display:flex;justify-content:center}menu button{margin:0}.cat-menu>ul>li.has-opt>button:first-child,.fav-menu>ul>li>button:first-child,.fld .mty-ctrl,.lst-file .lst-grp>*>:first-child,.lst-test-case ol .file-ttl,.scr.landing .lst-grp button{max-width:150px;min-width:75px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.cat-menu>ul>li.has-opt,.fav-menu>ul>li,.lst-file .lst-grp>*{display:flex}.cat-menu>ul>li.has-opt>button:first-child,.fav-menu>ul>li>button:first-child,.lst-file .lst-grp>*>:first-child{flex-grow:1;min-width:0;text-align:start}.fav-menu>ul>.has-opt>button,.lst-file .lst-grp button{margin:0}.fav-menu>ul>.has-opt>:last-child,.lst-file .lst-grp>*>.opt-btn{--height:calc(var(--base-bar-height) - var(--base-bar-offset-double));flex-shrink:0;min-height:var(--height)}.fld{--empty-controller-max-width:75px;border-bottom:var(--divider-size) solid;display:block;height:calc(var(--base-bar-offset-height) + var(--divider-size));padding:0 calc(var(--empty-controller-max-width) + 12px) 0 12px;position:relative;width:100%}.fld input{height:100%;width:100%}.fld .ttl{align-items:center;display:flex;height:100%;inset:0 0 auto 12px;position:absolute;z-index:2}.fld .mty-ctrl{position:absolute;right:0;top:50%;transform:translateY(-50%);width:var(--empty-controller-max-width)}.fld:focus-within .ttl,.fld:not(.blk-within) .ttl{height:15px;transform:translateY(-50%)}.fld-srch{padding-left:12px}.fld-srch .ttl{left:12px}.msg-shrt{margin:auto}.code-lns{display:table;width:100%}.code-lns>*{display:table-row}.code-lns>*>*{display:table-cell;vertical-align:middle}.code-lns>*>.line-num{padding:0 10px;text-align:end;user-select:none;-webkit-user-select:none;vertical-align:top;width:1px}.code-lns>*>.cnt{tab-size:4;white-space:pre}.code-lns.word-wrap>*>.cnt{white-space:pre-wrap;word-break:break-word}.lst{display:flex;flex-direction:column}.lst h1{margin:0;text-align:center}.lst-bd{flex:1 0 0;overflow:hidden auto;scrollbar-width:thin}.lst-grp{display:flex;flex-direction:column}.lst-ftr .msg{text-align:center}.lst-file{width:100%}.lst-file .fld-srch:focus-within .ttl,.lst-file .fld-srch:not(.blk-within) .ttl,.lst-file .lst-h,.lst.no-rslt .fld-srch{display:none}.lst-file .fld-srch.blk-within:focus-within .ttl{display:flex;height:100%;transform:none}.lst-file .lst-h+p{margin:calc(0px - var(--base-bar-offset)) 0 var(--base-bar-offset)}.lst-file .lst-grp>*>:first-child{max-width:none}.lst-file .lst-grp>*>span:first-child{border-radius:var(--decorative-radius);display:block;height:var(--base-bar-height);line-height:calc(var(--base-bar-height) - var(--base-bar-offset-double));padding:var(--base-bar-offset) 12px}.lst-test-case .opt-btn{margin:0 3px}}@layer layout{@media (hover:hover){.lst-test-case .cnt:not(:hover,:focus-within)>.opt-btn,.lst-test-case .err:not(:hover,:focus-within)>.opt-btn{display:none}}}@layer layout{@media (hover:none){.lst-test-case .cnt:not(.act)>.opt-btn,.lst-test-case .err:not(.act)>.opt-btn{display:none}}}@layer layout{.lst-test-case>.lst-hdr{background-color:var(--current-background-color);inset:0 0 auto;margin-bottom:var(--base-bar-offset);padding-bottom:var(--divider-size);position:sticky;z-index:2}.lst-test-case>.lst-hdr:after{background-color:currentColor;content:"";height:var(--divider-size);inset:auto 0 0 0;position:absolute}.lst-test-case>.lst-hdr button:disabled{display:none}.lst-test-case>.lst-hdr dl{display:flex;margin:0 12px}.lst-test-case>.lst-hdr dt:after{content:":"}.lst-test-case>.lst-hdr dt:not(:first-child){margin-left:15px}.lst-test-case>.lst-hdr dd{margin-left:5px}.lst-test-case>.lst-hdr menu{justify-content:flex-start}.lst-test-case>.lst-hdr .hdr-inr{align-items:center;display:flex;justify-content:space-between;overflow:auto;padding:var(--base-bar-offset) 0;white-space:nowrap}.lst-test-case>.lst-grp{display:flex;flex-direction:column}.lst-test-case>.lst-grp .cat-ttl{-webkit-box-orient:vertical;-webkit-line-clamp:2;display:-webkit-box;overflow:hidden;word-break:break-all}.lst-test-case>.lst-grp .file-cn{white-space:nowrap}.lst-test-case>.lst-grp .fail-cn{margin-left:15px;white-space:nowrap}.lst-test-case>.lst-grp .cnt{align-items:center;border-radius:var(--decorative-radius);display:flex;min-height:var(--base-bar-offset-height);padding:var(--base-bar-offset) 12px}.lst-test-case>.lst-grp .cnt>.state{aspect-ratio:1;border:1px solid;cursor:pointer;flex-shrink:0;margin-right:12px;width:25px}.lst-test-case>.lst-grp>.sel>.cnt>.state{background-clip:content-box;background-color:currentColor;padding:3px}.lst-test-case>.lst-grp>*>.cnt{cursor:pointer}.lst-test-case>.lst-grp>:not(.open)>ol{display:none}.lst-test-case .file-l{counter-reset:file-l;flex-direction:column;width:100%}.lst-test-case .file-l .err{align-items:center;display:flex;margin:0;min-height:39px}.lst-test-case .file-l .file-ttl{max-width:none}.lst-test-case .file-l>li{align-items:center;counter-increment:file-l;display:flex;flex-wrap:wrap;padding-left:49px}.lst-test-case .file-l>li:before{content:counter(file-l) ".";margin-left:-49px;padding-right:5px;text-align:end;width:49px}.lst-test-case .file-l>li>*{flex:1 0 auto;width:100%}.lst-test-case .file-l>li>.cnt{padding-inline:0;width:calc(100% - 49px)}.lst-test-case .file-l .code-msg{margin-top:1em}.lst-test-case>.lst-grp>.open>.file-l{display:flex}.scr{align-items:stretch;contain:strict;flex-direction:column;height:100%}.scr,.scr-tb{display:flex;width:100%}.scr-tb{contain:size;flex:0 0 var(--base-bar-offset-height);height:var(--base-bar-offset-height);justify-content:end;position:relative;z-index:2}.scr-tb>.scr-menu{flex:0 0 auto;max-width:100%}.scr-tb button{white-space:nowrap}.scr-bd{display:flex;flex:1 1 auto;margin:15px 0;overflow:auto;padding:0 15px}.scr-inr{margin:auto;max-width:500px;position:relative;width:100%}.scr-menu{justify-content:flex-start;overflow:auto hidden;padding:var(--base-bar-offset);scrollbar-width:thin}.scr.welcome article{text-align:center}.scr.welcome article h1{margin-top:0}.scr.landing .scr-bd{overflow:initial}.scr.landing .scr-inr{display:flex;margin:0 auto}.scr.landing .scr-inr>*{width:100%}.scr.landing .lst-grp button{max-width:none;width:100%}.scr.landing .lst .msg-mty p{align-items:center;display:flex;height:var(--base-bar-height);justify-content:center;margin:0}.scr.message article{text-align:center}.scr.manager .scr-bd{margin:0;padding:0}.scr.manager .scr-inr{align-items:stretch;display:flex;margin:0;max-width:none}.scr.manager .scr-tb{--height:calc(var(--base-bar-offset-height) + var(--divider-size));flex-basis:var(--height);height:var(--height);padding-bottom:var(--divider-size)}.scr.manager .scr-tb:after{background-color:currentColor;content:"";height:var(--divider-size);inset:auto 0 0;position:absolute}.scr.manager .sb{contain:strict;display:flex;padding:var(--base-bar-offset)}body[data-layout=discrete] .scr.manager .sb{display:none}.scr.manager .main-pnl{align-items:stretch;contain:strict;display:flex;flex:1 1 auto;flex-direction:column}.scr.manager .main-pnl>.tb{--height:calc(var(--base-bar-offset-height) + var(--divider-size));flex:0 0 var(--height);height:var(--height);padding-bottom:var(--divider-size);position:relative}.scr.manager .main-pnl>.tb:after{background-color:currentColor;content:"";height:var(--divider-size);inset:auto var(--base-bar-offset) 0 var(--base-bar-offset);position:absolute}.scr.manager .main-pnl>.tb>.inr{display:flex;height:100%;overflow:auto hidden;padding:var(--base-bar-offset)}.scr.manager .main-pnl>.tb .brcr-menu{flex:1 0 auto;justify-content:flex-start;overflow:auto hidden;scrollbar-width:thin}.scr.manager .main-pnl>.bd{align-items:stretch;contain:strict;display:flex;flex:1 1 auto;flex-direction:column;overflow:auto;padding:15px var(--base-bar-offset);row-gap:15px}.scr.manager .main-pnl[data-handler=unit-tests]>.bd{padding-top:0}.scr.manager .main-pnl>.bd>:not(.msg-shrt){margin:0}.scr-cnt-con,.scr-cnt-con-bd{display:flex;min-width:0}.scr-cnt-con{flex:1 1 auto}.scr-cnt-con>.tgl-lo{flex:0 0 auto;margin:var(--base-bar-offset) auto var(--base-bar-offset) var(--base-bar-offset)}.scr-cnt-con-bd{overflow:auto hidden;overscroll-behavior:contain;padding:var(--base-bar-offset) var(--base-bar-offset) var(--base-bar-offset) 0;scrollbar-width:thin}.cat-menu .h{display:none}dialog{border:var(--divider-size) solid;contain:content;max-height:100dvh;max-width:100dvw;min-width:300px;overflow:auto}.abt-lwis{max-width:300px}.abt-lwis h2{font-size:1.5em;margin-block:1em}.abt-lwis li{margin-block:3px}.abt-lwis .app-logo{margin-inline:auto;max-width:75px}.abt-lwis .app-logo img{display:block;max-width:100%}.abt-lwis .lwis-logo{margin-inline:auto;max-width:150px}.abt-lwis :is(.app-logo,.lwis-logo) :is(a,svg){display:block}.upg-sts .wtng{padding-left:20px;position:relative}.upg-sts:not([data-status=error]) .err,.upg-sts:not([data-status=ok]) .ok,.upg-sts:not([data-status=pending]) .wtng,.upg-sts:not([data-status=upgrade]) .upg{display:none}.pp{contain:content;left:0;max-height:100dvh;max-width:100dvw;overflow:auto;padding:15px;position:fixed;top:0;z-index:5}.pp button{text-align:start;width:100%}.pp menu>ul{flex-direction:column}.shrt-notif{max-width:100%;overflow:hidden;padding:10px 15px;text-overflow:ellipsis;white-space:nowrap}#short-notifications{align-items:start;bottom:15px;contain:content;display:flex;flex-direction:column;gap:15px;justify-content:end;left:15px;max-width:calc(100% - 30px);position:fixed}}@layer layout{@media (min-width:1025px){.scr.manager .sb{width:calc(300px + var(--divider-size))}}}@layer layout{@media (min-width:661px) and (max-width:1024px){.scr.manager .sb{min-width:calc(250px + var(--divider-size));width:calc(29.29688% + var(--divider-size))}}}@layer layout{@media (min-width:661px){.fav-menu .h{display:none}.scr-cnt-con-bd{flex:1 1 auto}.scr.manager .scr-menu{max-width:25%}.scr.manager .sb{flex:0 0 auto;padding-right:calc(var(--base-bar-offset) + var(--divider-size))}.scr.manager .sb:after{background-color:currentColor;content:"";inset:0 0 0 auto;position:absolute;width:var(--divider-size)}.pp .cl-btn{display:none}}}@layer layout{@media (max-width:660px){.fav-menu{display:block}.fav-menu>.h{position:relative;z-index:2}.fav-menu>ul{align-items:stretch;background-color:var(--bg-color);display:flex;flex-direction:column;inset:calc((var(--base-bar-offset-height) + var(--divider-size))*2) 0 0 0;justify-content:start;overflow:hidden auto;padding:var(--base-bar-offset);position:fixed;z-index:2}.fav-menu:not(.open)>ul{display:none}.fav-menu>ul>li>button:first-child{max-width:none}.scr-cnt-con{flex-shrink:0}.scr-cnt-con-bd{background-color:var(--bg-color);height:var(--base-bar-offset-height);inset:calc(var(--base-bar-offset-height) + var(--divider-size)) 0 auto 0;padding:var(--base-bar-offset);position:absolute}.scr-cnt-con-bd>:not(.fav-menu){position:relative;z-index:2}body[data-layout=discrete] .scr-cnt-con-bd{display:none}.scr-tb>.scr-menu{flex:0 1 auto}.scr.manager .main-pnl>.tb:after{left:0;right:0}.scr.manager .sb{background-color:var(--bg-color);inset:calc(var(--base-bar-offset-height)*2 + var(--divider-size)) 0 0 0;padding-top:calc(var(--base-bar-offset) + var(--divider-size));position:fixed;z-index:1}.scr.manager .sb:before{background-color:currentColor;content:"";height:var(--divider-size);inset:0 0 auto;position:absolute}}}@layer accessories{.con-menu>*,.cont-btn,.file-cl-btn,.fld-srch,.i-disc-lo,.i-host,.i-menu,.i-open-lo,.lst-test-case .cnt>.state,.lst-test-case ol>[data-state]>.cnt,.mty-ctrl,.opt-btn,.scr-cl-btn,.scr-menu>*,.scr.welcome h1,.show-info-btn,.tgl-lo,.tgl-word-wrap-btn,.type-dir,.type-file{--icon-color:var(--bg-color-restrained);--icon-size:16px;--icon-weight:2px;--icon-size-half:calc(var(--icon-size)/2);--icon-weight-half:calc(var(--icon-weight)/2);--icon-weight-half-negative:calc(0px - var(--icon-weight-half));--icon-weight-double:calc(var(--icon-weight)*2);position:relative}.con-menu>:after,.con-menu>:before,.cont-btn:after,.cont-btn:before,.file-cl-btn:after,.file-cl-btn:before,.fld-srch:after,.fld-srch:before,.i-disc-lo:after,.i-disc-lo:before,.i-host:after,.i-host:before,.i-menu:before,.i-open-lo:after,.i-open-lo:before,.lst-test-case .cnt>.state:after,.lst-test-case .cnt>.state:before,.lst-test-case ol>[data-state]>.cnt:after,.lst-test-case ol>[data-state]>.cnt:before,.mty-ctrl:after,.mty-ctrl:before,.opt-btn:after,.opt-btn:before,.scr-cl-btn:after,.scr-cl-btn:before,.scr-menu>:after,.scr-menu>:before,.scr.welcome h1:after,.scr.welcome h1:before,.show-info-btn:after,.show-info-btn:before,.tgl-lo:after,.tgl-lo:before,.tgl-word-wrap-btn:after,.tgl-word-wrap-btn:before,.type-dir>:first-child:after,.type-dir>:first-child:before,.type-file>:first-child:after,.type-file>:first-child:before{content:"";position:absolute}.cont-btn:not(.waiting),.i-md-rt-arw{--icon-size:20px;--wing-size:10px}.cont-btn:not(.wtng):before,.i-md-rt-arw:before{background-color:var(--icon-color);border-radius:var(--icon-weight-half);height:var(--icon-weight);left:calc(50% - var(--icon-size-half));top:calc(50% - var(--icon-weight-half) + 1px);width:var(--icon-size)}.cont-btn:not(.wtng):after,.i-md-rt-arw:after{border:solid var(--icon-weight) var(--icon-color);border-bottom-width:0;border-left-width:0;border-radius:var(--icon-weight-half);height:var(--wing-size);left:calc(50% + var(--icon-size-half) - var(--wing-size) + var(--icon-weight-half));top:calc(50% + var(--icon-weight-half));transform:rotate(45deg);transform-origin:100% 0;width:var(--wing-size)}.i-arw-down:after,.i-arw-down:before{background-color:var(--icon-color);border-radius:1px;bottom:calc(50% - 3px);height:8px;left:calc(50% - 1px);transform:rotate(-45deg);transform-origin:50% 100%;width:2px}.i-arw-down:after{margin-left:-1px;transform:rotate(45deg)}:is(.i-go-fscr,.i-exit-fscr,.tgl-fscr-btn){--icon-size:10px;--icon-offset:1px}:is(.i-go-fscr,.i-exit-fscr,.tgl-fscr-btn):after,:is(.i-go-fscr,.i-exit-fscr,.tgl-fscr-btn):before{border:solid var(--icon-weight) var(--icon-color);border-radius:var(--icon-weight-half);height:var(--icon-size);width:var(--icon-size)}:is(.i-go-fscr,.i-exit-fscr,.tgl-fscr-btn):before{border-width:var(--icon-weight) var(--icon-weight) 0 0;bottom:calc(50% + var(--icon-offset));left:calc(50% + var(--icon-offset))}:is(.i-go-fscr,.i-exit-fscr,.tgl-fscr-btn):after{border-width:0 0 var(--icon-weight) var(--icon-weight);right:calc(50% + var(--icon-offset));top:calc(50% + var(--icon-offset))}.i-exit-fscr:before,body:fullscreen .tgl-fscr-btn:before{border-width:0 0 var(--icon-weight) var(--icon-weight)}body:-webkit-full-screen .tgl-fscr-btn:before{border-width:0 0 var(--icon-weight) var(--icon-weight)}.i-exit-fscr:after,body:fullscreen .tgl-fscr-btn:after{border-width:var(--icon-weight) var(--icon-weight) 0 0}body:-webkit-full-screen .tgl-fscr-btn:after{border-width:var(--icon-weight) var(--icon-weight) 0 0}.fld-srch,.i-srch{--icon-size:20px;--icon-offset:calc((var(--base-bar-height) - var(--icon-size))/2)}.fld-srch:before,.i-srch:before{border:solid var(--icon-weight) var(--icon-color);border-radius:50%;height:var(--icon-size);left:50%;top:50%;transform:translate(-50%,-50%);width:var(--icon-size)}.fld-srch:after,.i-srch:after{background-color:var(--icon-color);border-radius:var(--icon-weight-half);height:var(--icon-weight);left:50%;margin-top:calc(0px - var(--icon-weight-half));top:50%;transform:rotate(45deg) translate(var(--icon-size-half));transform-origin:0 0;width:var(--icon-size-half)}.i-rcnt,.rcnt-btn,.scr.welcome h1{--space-width:8px;--space-height:4px;--off-x:calc(var(--icon-weight) + var(--space-width)/2);--off-y:calc(var(--icon-weight) + var(--space-height)/2);--off-x-half:calc(var(--off-x)/2);--off-y-half:calc(var(--off-y)/2);--off-closest:calc(var(--icon-weight) + var(--off-x-half))}.i-rcnt:after,.i-rcnt:before,.rcnt-btn:after,.rcnt-btn:before,.scr.welcome h1:after,.scr.welcome h1:before{border:solid var(--icon-weight) var(--icon-color);border-radius:var(--decorative-radius);height:12px;width:20px}.i-rcnt:before,.rcnt-btn:before,.scr.welcome h1:before{bottom:50%;left:50%;outline:solid 1px var(--current-background-color);transform:translate(calc(0px - var(--off-x)),var(--off-y)) rotate(-45deg);transform-origin:var(--off-closest) calc(12px - var(--off-closest));z-index:2}.i-rcnt:after,.rcnt-btn:after,.scr.welcome h1:after{right:50%;top:50%;transform:translate(var(--off-x),calc(0px - var(--off-y))) rotate(-45deg);transform-origin:calc(20px - var(--off-closest)) var(--off-closest)}.cl-btn,.i-cl,.lst-test-case [data-state=failed]>.cnt>.state,.lst-test-case ol>[data-state=failed]>.cnt,.mty-ctrl{--icon-size:20px}.cl-btn:after,.cl-btn:before,.i-cl:after,.i-cl:before,.lst-test-case [data-state=failed]>.cnt>.state:after,.lst-test-case [data-state=failed]>.cnt>.state:before,.lst-test-case ol>[data-state=failed]>.cnt:after,.lst-test-case ol>[data-state=failed]>.cnt:before,.mty-ctrl:after,.mty-ctrl:before{background-color:var(--icon-color);border-radius:var(--icon-weight-half);height:var(--icon-weight);left:50%;top:50%;transform:translate(-50%,-50%) rotate(45deg);transform-origin:50% 50%;width:var(--icon-size)}.cl-btn:after,.i-cl:after,.lst-test-case [data-state=failed]>.cnt>.state:after,.lst-test-case ol>[data-state=failed]>.cnt:after,.mty-ctrl:after{transform:translate(-50%,-50%) rotate(-45deg)}.i-opts,.opt-btn{--icon-size:4px;--icon-offset:4px;background:radial-gradient(circle at center,var(--icon-color) var(--icon-size-half),var(--current-background-color) var(--icon-size-half))}.i-opts:after,.i-opts:before,.opt-btn:after,.opt-btn:before{background-color:var(--icon-color);border-radius:50%;height:var(--icon-size);left:50%;top:50%;transform:translate(-50%,-50%);width:var(--icon-size)}.i-opts:before,.opt-btn:before{top:calc(50% - var(--icon-offset) - var(--icon-size))}.i-opts:after,.opt-btn:after{top:calc(50% + var(--icon-offset) + var(--icon-size))}.i-file,.type-file>:first-child{--icon-width:25px;--icon-height:30px}.i-file:before,.type-file>:first-child:before{border:solid var(--icon-weight) var(--icon-color);border-radius:var(--decorative-radius);height:var(--icon-height);left:50%;top:50%;transform:translate(-50%,-50%);width:var(--icon-width)}.i-file:after,.type-file>:first-child:after{--width:11px;--height:9px;background-clip:content-box;background-color:var(--icon-color);border-color:var(--icon-color);border-style:solid;border-width:var(--icon-weight-half) 0;height:var(--height);left:calc(50% - var(--width)/2);padding:3px 0;top:calc(50% - var(--height)/2);width:var(--width)}.i-dir,.type-dir>:first-child{--icon-width:25px;--icon-height:18px}.i-dir:before,.type-dir>:first-child:before{border:solid var(--icon-weight) var(--icon-color);border-radius:var(--decorative-radius);border-top-left-radius:0;height:var(--icon-height);left:50%;top:calc(50% + var(--icon-weight));transform:translate(-50%,-50%);width:var(--icon-width)}.i-dir:after,.type-dir>:first-child:after{--width:10px;--height:8px;background-color:var(--current-background-color);border:solid var(--icon-weight) var(--icon-color);border-bottom-width:0;border-top-left-radius:var(--decorative-radius);box-shadow:0 -3px 0 0 var(--current-background-color) inset;height:var(--height);left:calc(50% - var(--icon-width)/2);top:calc(50% - 13px);width:var(--width)}.i-os-mode,:root[data-color-mode=os] .tgl-clr-mode{--icon-size:20px}.i-os-mode:before,:root[data-color-mode=os] .tgl-clr-mode:before{border:solid var(--icon-weight) var(--icon-color);border-radius:50%;height:var(--icon-size);left:50%;top:50%;transform:translate(-50%,-50%);width:var(--icon-size)}.i-os-mode:after,:root[data-color-mode=os] .tgl-clr-mode:after{--height:calc(var(--icon-size) - var(--icon-weight));--height-half:calc(var(--height)/2);background-color:var(--icon-color);border-radius:var(--height-half) 0 0 var(--height-half);height:var(--height);left:50%;top:50%;transform:translate(-100%,-50%);width:calc(var(--icon-size-half) - var(--icon-weight-half))}.i-dark-mode,:root[data-color-mode=dark] .tgl-clr-mode{--icon-size:20px}.i-dark-mode:after,.i-dark-mode:before,:root[data-color-mode=dark] .tgl-clr-mode:after,:root[data-color-mode=dark] .tgl-clr-mode:before{border-radius:50%;height:var(--icon-size);left:50%;top:50%;transform:translate(-50%,-50%);width:var(--icon-size)}.i-dark-mode:before,:root[data-color-mode=dark] .tgl-clr-mode:before{background-color:var(--icon-color)}.i-dark-mode:after,:root[data-color-mode=dark] .tgl-clr-mode:after{background-color:var(--current-background-color);transform:translate(calc(-50% + 7px),calc(-50% - 2px))}.i-lt-mode,:root[data-color-mode=light] .tgl-clr-mode{--icon-size:20px}.i-lt-mode:after,.i-lt-mode:before,:root[data-color-mode=light] .tgl-clr-mode:after,:root[data-color-mode=light] .tgl-clr-mode:before{border-radius:50%;left:50%;top:50%;transform:translate(-50%,-50%)}.i-lt-mode:before,:root[data-color-mode=light] .tgl-clr-mode:before{border:solid var(--icon-weight) var(--icon-color);height:var(--icon-size);width:var(--icon-size)}.i-lt-mode:after,:root[data-color-mode=light] .tgl-clr-mode:after{background-color:var(--icon-color);height:var(--icon-weight-double);width:var(--icon-weight-double)}.i-rld,.rld-btn{--icon-size:20px}.i-rld:before,.rld-btn:before{border:solid var(--icon-weight) var(--icon-color);border-radius:50%;border-right-color:transparent;height:var(--icon-size);left:50%;top:50%;transform:translate(-50%,-50%);width:var(--icon-size)}.i-rld:after,.rld-btn:after{border:solid var(--icon-weight) var(--icon-color);border-left-width:0;border-radius:var(--icon-weight-half);border-top-width:0;height:7px;left:calc(50% + 4px);top:calc(50% - 8px);width:7px}.i-menu{--icon-width:20px;--icon-height:14px}.i-menu:before{--offset-top:calc((var(--icon-height) - var(--icon-weight)*3)/2);background-clip:content-box;background-color:var(--icon-color);border:solid var(--icon-weight) var(--icon-color);border-width:var(--icon-weight) 0;height:var(--icon-height);left:50%;padding:var(--offset-top) 0;top:50%;transform:translate(-50%,-50%);width:var(--icon-width)}.i-open-lo{--icon-width:20px;--icon-height:14px;--stroke-size:2px;--stroke-size-double:calc(var(--stroke-size)*2)}.i-open-lo:before{height:var(--stroke-size);transform:translate(-50%,calc(0px - var(--icon-height)/2))}.i-open-lo:after,.i-open-lo:before{background-color:var(--icon-color);left:50%;top:50%;width:var(--icon-width)}.i-open-lo:after{background-clip:content-box;border-left:solid var(--stroke-size-double) var(--icon-color);height:calc(var(--icon-height) - var(--stroke-size-double));padding-left:var(--stroke-size);transform:translate(-50%,calc(0px - var(--icon-height)/2 + var(--stroke-size-double)))}.i-disc-lo{--icon-width:20px;--icon-height:14px;--stroke-size:2px}.i-disc-lo:before{background-clip:content-box;background-color:var(--icon-color);border-top:solid var(--stroke-size) var(--icon-color);height:var(--icon-height);left:50%;padding-top:var(--stroke-size);top:50%;transform:translate(-50%,-50%);width:var(--icon-width)}.i-no-word-wrap,body:not(.word-wrap) .tgl-word-wrap-btn{--icon-width:30px;--icon-height:8px;--icon-width-half:calc(var(--icon-width)/2);--icon-height-half:calc(var(--icon-height)/2);--icon-spacer-size:calc(var(--icon-height) - var(--icon-weight-double))}.i-no-word-wrap:after,.i-no-word-wrap:before,body:not(.word-wrap) .tgl-word-wrap-btn:after,body:not(.word-wrap) .tgl-word-wrap-btn:before{background-color:var(--icon-color);border-radius:var(--icon-weight-half);height:var(--icon-weight);left:calc(50% - var(--icon-width-half));top:calc(50% - var(--icon-height-half));width:var(--icon-width)}.i-no-word-wrap:after,body:not(.word-wrap) .tgl-word-wrap-btn:after{top:calc(50% + var(--icon-spacer-size)/2);width:calc(var(--icon-width) - var(--icon-width)/3)}.i-word-wrap,body.word-wrap .tgl-word-wrap-btn{--icon-width:25px;--icon-height:14px;--icon-width-half:calc(var(--icon-width)/2);--icon-height-half:calc(var(--icon-height)/2)}.i-word-wrap:before,body.word-wrap .tgl-word-wrap-btn:before{border:solid var(--icon-weight) var(--icon-color);border-left:0;border-radius:0 var(--icon-height-half) var(--icon-height-half) 0;height:var(--icon-height);left:50%;top:50%;transform:translate(-50%,-50%);width:var(--icon-width)}.i-word-wrap:after,body.word-wrap .tgl-word-wrap-btn:after{--size:7px;border:solid var(--icon-weight) var(--icon-color);border-radius:var(--icon-weight-half);border-right-width:0;border-top-width:0;height:var(--size);left:50%;top:calc(50% + var(--icon-height-half) - var(--size));transform:rotate(45deg);transform-origin:0 50%;width:var(--size)}.i-check,.lst-test-case :is(.sel:not([data-state]),[data-state=passed])>.cnt>.state,.lst-test-case ol>[data-state=passed]>.cnt{--icon-offset:50%;--icon-wing-size:20px;--icon-smaller-wing-size:10px}.i-check:after,.i-check:before,.lst-test-case :is(.sel:not([data-state]),[data-state=passed])>.cnt>.state:after,.lst-test-case :is(.sel:not([data-state]),[data-state=passed])>.cnt>.state:before,.lst-test-case ol>[data-state=passed]>.cnt:after,.lst-test-case ol>[data-state=passed]>.cnt:before{--original-transform:translateX(calc(-50% - var(--icon-weight-half)));background-color:var(--icon-color);border-radius:var(--icon-weight-half);bottom:var(--icon-offset);height:var(--icon-wing-size);left:50%;transform:var(--original-transform);transform-origin:50% 100%;width:var(--icon-weight)}.i-check:before,.lst-test-case :is(.sel:not([data-state]),[data-state=passed])>.cnt>.state:before,.lst-test-case ol>[data-state=passed]>.cnt:before{height:var(--icon-smaller-wing-size);transform:var(--original-transform) rotate(-45deg)}.i-check:after,.lst-test-case :is(.sel:not([data-state]),[data-state=passed])>.cnt>.state:after,.lst-test-case ol>[data-state=passed]>.cnt:after{margin-left:var(--icon-weight-half-negative);transform:var(--original-transform) rotate(45deg)}.i-info,.show-info-btn{--icon-size:20px}.i-info:before,.show-info-btn:before{border:solid var(--icon-weight) var(--icon-color);border-radius:50%;height:var(--icon-size);left:50%;top:50%;transform:translate(-50%,-50%);width:var(--icon-size)}.i-info:after,.show-info-btn:after{color:var(--icon-color);content:"i";font:16px/var(--icon-size) Times New Roman,Times,serif;left:50%;top:50%;transform:translate(-50%,-50%)}.con-menu button,.mty-ctrl,.opt-btn,.scr-menu button,.tgl-lo{--compact-width:var(--base-bar-height);--enclosed-height:var(--base-bar-height);align-items:start;aspect-ratio:1;height:0;min-height:0;min-width:0;overflow:hidden;padding-bottom:0;padding-top:var(--enclosed-height);width:var(--compact-width)}.fav-menu>ul>li.has-opt,.lst-file .lst-grp>*{--icon-offset:12px}.fav-menu>ul>[data-storage-id]>:first-child,.lst-file .lst-grp>*>:first-child{padding-left:calc(var(--icon-offset) + 35px)}.fav-menu>ul>li.has-opt>:first-child:before,.lst-file .lst-grp>*>:first-child:before{left:var(--icon-offset);transform:translateY(-50%)}.fav-menu .type-file>:first-child:after,.lst-file .type-file>:first-child:after{left:calc(var(--icon-offset) + (var(--icon-width) - var(--icon-weight-double) - var(--width))/2 + var(--icon-weight))}.fav-menu .type-dir>:first-child:after,.lst-file .type-dir>:first-child:after{left:var(--icon-offset)}.cont-btn{--icon-offset:30px;padding:3px 60px 3px 30px}.cont-btn:not(.wtng):before{left:auto;right:var(--icon-offset)}.cont-btn:not(.wtng):after{left:auto;right:calc(var(--icon-offset) - var(--icon-weight-half))}.fld{padding-right:calc(var(--base-bar-height) + 12px)}.fld .mty-ctrl{position:absolute}.fld-srch{padding-left:var(--base-bar-height)}.fld-srch:before{left:var(--icon-offset);transform:translateY(-50%)}.fld-srch:after{left:calc(var(--icon-size-half) + var(--icon-offset))}.fld-srch .ttl{left:var(--base-bar-height)}.lst-test-case .opt-btn{--compact-width:39px;--enclosed-height:39px}.lst-test-case>.lst-grp .cnt{min-height:var(--base-bar-height)}.lst-test-case ol>[data-state]>.cnt{padding-left:40px}.lst-test-case ol>[data-state]>.cnt:after,.lst-test-case ol>[data-state]>.cnt:before{bottom:15px;left:calc(20px - var(--icon-weight-half))}.scr.welcome h1{padding-top:25px}.scr.welcome h1:before{bottom:auto;top:0}.scr.welcome h1:after{top:12px}@media (min-width:661px){body[data-layout=open] .tgl-lo{--icon-width:20px;--icon-height:14px;--stroke-size:2px;--stroke-size-double:calc(var(--stroke-size)*2)}body[data-layout=open] .tgl-lo:before{height:var(--stroke-size);transform:translate(-50%,calc(0px - var(--icon-height)/2))}body[data-layout=open] .tgl-lo:after,body[data-layout=open] .tgl-lo:before{background-color:var(--icon-color);left:50%;top:50%;width:var(--icon-width)}body[data-layout=open] .tgl-lo:after{background-clip:content-box;border-left:solid var(--stroke-size-double) var(--icon-color);height:calc(var(--icon-height) - var(--stroke-size-double));padding-left:var(--stroke-size);transform:translate(-50%,calc(0px - var(--icon-height)/2 + var(--stroke-size-double)))}body[data-layout=discrete] .tgl-lo{--icon-width:20px;--icon-height:14px;--stroke-size:2px}body[data-layout=discrete] .tgl-lo:before{background-clip:content-box;background-color:var(--icon-color);border-top:solid var(--stroke-size) var(--icon-color);height:var(--icon-height);left:50%;padding-top:var(--stroke-size);top:50%;transform:translate(-50%,-50%);width:var(--icon-width)}}@media (max-width:660px){body[data-layout=discrete] .tgl-lo{--icon-width:20px;--icon-height:14px}body[data-layout=discrete] .tgl-lo:before{--offset-top:calc((var(--icon-height) - var(--icon-weight)*3)/2);background-clip:content-box;background-color:var(--icon-color);border:solid var(--icon-weight) var(--icon-color);border-width:var(--icon-weight) 0;height:var(--icon-height);left:50%;padding:var(--offset-top) 0;top:50%;transform:translate(-50%,-50%);width:var(--icon-width)}body[data-layout=open] .tgl-lo{--icon-size:20px}body[data-layout=open] .tgl-lo:after,body[data-layout=open] .tgl-lo:before{background-color:var(--icon-color);border-radius:var(--icon-weight-half);height:var(--icon-weight);left:50%;top:50%;transform:translate(-50%,-50%) rotate(45deg);transform-origin:50% 50%;width:var(--icon-size)}body[data-layout=open] .tgl-lo:after{transform:translate(-50%,-50%) rotate(-45deg)}}}@layer waiting{@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.wtng{color:unset;pointer-events:none}.wtng:after{--spinner-size:20px;--spinner-size-half:var(--spinner-size) /2;--spinner-size-half-negative:calc(0px - var(--spinner-size-half));animation:spin .8s linear infinite;border:2px solid;border-radius:50%;border-right:2px solid transparent;content:"";height:var(--spinner-size);left:50%;margin:var(--spinner-size-half-negative) 0 0 var(--spinner-size-half-negative);opacity:1;position:absolute;top:50%;width:var(--spinner-size);z-index:3}.cont-btn.wtng:after{left:auto;right:var(--icon-offset)}.upg-sts .wtng:after{--spinner-size:15px;left:0;margin-left:0}}@layer theme{:root{--code-php-highlight-base:#000;--code-php-highlight-open-tag:maroon;--code-php-highlight-close-tag:maroon;--code-php-highlight-comment:#008002;--code-php-highlight-variable:#001180;--code-php-highlight-function:#795e27;--code-php-highlight-keyword:#0a00ff;--code-php-highlight-function-like-keyword:#795e27;--code-php-highlight-expression-keyword:#af00db;--code-php-highlight-tagname:#0a00ff;--code-php-highlight-string:#a21515;--code-php-highlight-number:#0a8658;--code-php-highlight-punctuation:inherit;--code-php-highlight-operator:inherit;--code-php-highlight-function-preceding-ampersand:#0a00ff;--code-php-highlight-compile-time-constant:#0a00ff;--code-php-highlight-namespace:inherit;--code-php-highlight-namespace-base:#0a00ff;--code-php-highlight-class-name:#257e99;--code-php-highlight-heredoc-open:inherit;--code-php-highlight-heredoc-operator:#a21515;--code-php-highlight-heredoc-identifier:inherit;--code-php-highlight-heredoc-close:inherit;--code-php-highlight-inline-html:inherit;--code-php-highlight-unknown:inherit;--code-php-highlight-punctuation-level-1n:#0531fa;--code-php-highlight-punctuation-level-2n:#2f9331;--code-php-highlight-punctuation-level-3n:#7c3913;--code-php-highlight-line-number-color:#227793;--code-php-highlight-line-number-focus-color:#0c216f;--code-php-highlight-text-selection:#add6ff}:root[data-theme=dark]{--code-php-highlight-base:#d4d4d4;--code-php-highlight-open-tag:#559cd6;--code-php-highlight-close-tag:#559cd6;--code-php-highlight-comment:#699a55;--code-php-highlight-variable:#9ddbfe;--code-php-highlight-function:#dcdcaa;--code-php-highlight-keyword:#559cd6;--code-php-highlight-function-like-keyword:#dcdcaa;--code-php-highlight-expression-keyword:#c687c0;--code-php-highlight-tagname:#559cd6;--code-php-highlight-string:#ce9278;--code-php-highlight-number:#b6cda8;--code-php-highlight-punctuation:inherit;--code-php-highlight-operator:inherit;--code-php-highlight-function-preceding-ampersand:#559cd6;--code-php-highlight-compile-time-constant:#559cd6;--code-php-highlight-namespace:inherit;--code-php-highlight-namespace-base:#559cd6;--code-php-highlight-class-name:#4ec9b0;--code-php-highlight-heredoc-open:inherit;--code-php-highlight-heredoc-operator:#ce9278;--code-php-highlight-heredoc-identifier:inherit;--code-php-highlight-heredoc-close:inherit;--code-php-highlight-inline-html:inherit;--code-php-highlight-unknown:inherit;--code-php-highlight-punctuation-level-1n:#ffd601;--code-php-highlight-punctuation-level-2n:orchid;--code-php-highlight-punctuation-level-3n:#199fff;--code-php-highlight-line-number-color:#858585;--code-php-highlight-line-number-focus-color:#c6c6c6;--code-php-highlight-text-selection:#254f78}.code-php{color:var(--code-php-highlight-base)}.code-php .open-tag{color:var(--code-php-highlight-open-tag)}.code-php .close-tag{color:var(--code-php-highlight-close-tag)}.code-php .comment{color:var(--code-php-highlight-comment)}.code-php .variable,.code-php .varname,.code-php .varname-close,.code-php .varname-open{color:var(--code-php-highlight-variable)}.code-php .function{color:var(--code-php-highlight-function)}.code-php .keyword{color:var(--code-php-highlight-keyword)}.code-php .function-like-keyword{color:var(--code-php-highlight-function-like-keyword)}.code-php .expression-keyword{color:var(--code-php-highlight-expression-keyword)}.code-php .string{color:var(--code-php-highlight-string)}.code-php .number{color:var(--code-php-highlight-number)}.code-php .punctuation{color:var(--code-php-highlight-punctuation)}.code-php .operator{color:var(--code-php-highlight-operator)}.code-php .namespace{color:var(--code-php-highlight-namespace)}.code-php .class-name,.code-php .namespace .class-name{color:var(--code-php-highlight-class-name)}.code-php .namespace .base{color:var(--code-php-highlight-namespace-base)}.code-php .compile-time-constant{color:var(--code-php-highlight-compile-time-constant)}.code-php .heredoc-open{color:var(--code-php-highlight-heredoc-open)}.code-php .heredoc-operator{color:var(--code-php-highlight-heredoc-operator)}.code-php .heredoc-identifier{color:var(--code-php-highlight-heredoc-identifier)}.code-php .heredoc-close{color:var(--code-php-highlight-heredoc-close)}.code-php .inline-html{color:var(--code-php-highlight-inline-html)}.code-php .punctuation.level-1n{color:var(--code-php-highlight-punctuation-level-1n)}.code-php .punctuation.level-2n{color:var(--code-php-highlight-punctuation-level-2n)}.code-php .punctuation.level-3n{color:var(--code-php-highlight-punctuation-level-3n)}.code-php ::selection{background-color:var(--code-php-highlight-text-selection)}.code-php .operator.operator-reference{color:var(--code-php-highlight-function-preceding-ampersand)}.code-php .string-key{color:var(--code-php-highlight-tagname)}.code-php .line-num{color:var(--code-php-highlight-line-number-color)}.code-php>:hover .line-num{color:var(--code-php-highlight-line-number-focus-color)}[data-relative-path]{cursor:pointer;text-decoration:underline;text-decoration-color:var(--bg-color-restrained);text-decoration-skip-ink:auto;text-decoration-skip-ink:all;text-decoration-style:dotted;text-underline-offset:3px}[data-relative-path]:hover{text-decoration-style:solid}[data-relative-path]:focus{outline:solid 1px var(--accent-color)}:root{--code-variable-name-color:var(--code-php-highlight-variable)}.wtng{color:var(--bg-color-restrained)}.code-lns,code{font:13px/1.5 Menlo,Monaco,Courier New,monospace}.code-lns>:hover>*{background-color:var(--mg-color)}.code-lns>*>.line-num{border-radius:var(--decorative-radius) 0 0 var(--decorative-radius);color:var(--bg-color-restrained)}.code-lns>*>.cnt{border-radius:0 var(--decorative-radius) var(--decorative-radius) 0}.lst-file .lst-grp>*,.scr-tb .has-opt{border-radius:var(--decorative-radius)}}@layer theme{.lst-file .lst-grp>:is(:hover,:focus-within),.scr-tb .has-opt:is(:hover,:focus-within){--current-background-color:var(--mg-color);background-color:var(--current-background-color)}.lst-file .lst-grp>*>:first-child,.scr-tb .has-opt>:first-child{padding-right:6px}.lst-file .lst-grp>:hover>:first-child,.scr-tb .has-opt:hover>:first-child{background-color:transparent}.lst-file .lst-grp>*>.opt-btn,.scr-tb .has-opt>:last-child{margin:var(--base-bar-offset)}.lst-file .lst-grp>:hover>.opt-btn,.scr-tb .has-opt:hover>:last-child{--current-background-color:var(--fg-color)}.lst-file .lst-grp>*>.opt-btn,.scr-tb .has-opt>:last-child{--size:calc(var(--base-bar-height) - 6px);--enclosed-height:var(--size);--compact-width:var(--size);flex-basis:var(--size)}.scr-tb .has-opt>:last-child{margin-left:-6px}.scr-tb .has-opt>:first-child{z-index:1}.fld{border-bottom-color:var(--divider-color);border-bottom-style:solid}.fld:focus-within{border-bottom-color:var(--accent-color)}.fld input{font-weight:700}.fld:focus-within .ttl,.fld:not(.blk-within) .ttl{color:var(--bg-color-restrained);font-size:12px;line-height:15px}.fld:focus-within:after,.fld:focus-within:before{color:var(--accent-color)}.msg-shrt{color:var(--bg-color-restrained);font-size:1.5em}.lst-file .fld-srch .ttl,.lst-file .fld-srch.blk-within:focus-within input::placeholder,.lst-file .opt-btn{color:var(--bg-color-restrained)}.lst-file .fld-srch.blk-within:focus-within .ttl{font-size:1em}.lst-test-case{--error-color:red;--success-color:green}.lst-test-case .lst-hdr{background-color:var(--current-background-color)}.lst-test-case .lst-hdr:after{background-color:var(--divider-color)}.lst-test-case .lst-hdr .stats :is(.pass,.pass+*){color:var(--success-color)}.lst-test-case .lst-hdr .stats .fail:not([data-count="0"]),.lst-test-case .lst-hdr .stats .fail:not([data-count="0"])+*{color:var(--error-color)}.lst-test-case>.lst-grp .cnt{border-radius:var(--decorative-radius)}.lst-test-case>.lst-grp .cat-ttl{line-height:1.25}.lst-test-case>.lst-grp .cat-ttl .base{color:var(--accent-color)}.lst-test-case>.lst-grp .fail-cn{color:var(--error-color);font-style:normal}.lst-test-case>.lst-grp .cnt>.state{--icon-color:var(--bg-color-restrained);background:none;border:2px solid var(--icon-color);border-radius:50%}.lst-test-case [data-state=failed]>.cnt>.state{--icon-size:15px}.lst-test-case>.lst-grp .cnt>.state[role=button]:focus{outline:solid 1px var(--accent-color);outline-offset:2px}.lst-test-case>.lst-grp>:focus-within>.cnt,.lst-test-case>.lst-grp>:hover>.cnt{background-color:var(--mg-color)}.lst-test-case :is(.sel,[data-state=passed])>.cnt>.state{--icon-offset:5px}.lst-test-case [data-state=passed]>.cnt>.state{--icon-color:var(--success-color)}.lst-test-case [data-state=failed]>.cnt>.state{--icon-color:var(--error-color)}.lst-test-case ol .err{color:var(--error-color);font-style:normal}.lst-test-case ol>[data-state=passed]>.cnt:after,.lst-test-case ol>[data-state=passed]>.cnt:before{--icon-color:var(--success-color)}.lst-test-case ol>[data-state=failed]>.cnt:after,.lst-test-case ol>[data-state=failed]>.cnt:before{--icon-color:var(--error-color)}.scr-inr.wtng:after,.scr.manager .main-pnl.wtng:after{--spinner-size:50px}.scr{background-color:var(--bg-color)}.scr.manager .main-pnl>.tb:after,.scr.manager .sb:after,.scr.manager .scr-tb:after{background-color:var(--divider-color)}.scr.manager .main-pnl>.bd.i-check{--icon-color:green;--icon-offset:calc(50% - 35px);--icon-weight:4px;--icon-wing-size:100px;--icon-smaller-wing-size:50px}dialog{background-color:var(--mg-color);border-color:var(--divider-color);border-radius:var(--decorative-radius);color:var(--mg-text-color)}dialog button:hover{--current-background-color:var(--fg-color)}.abt-lwis small{color:var(--bg-color-restrained);font-size:14px}.abt-lwis h2{font-size:1.5em}.abt-lwis :not(.app-logo,.lwis-logo) :any-link{border-radius:3px;box-decoration-break:clone;-webkit-box-decoration-break:clone;margin-inline:-3px;padding:3px;text-decoration:underline var(--bg-color-restrained);-webkit-text-decoration:underline var(--bg-color-restrained)}.abt-lwis :not(.app-logo,.lwis-logo) :any-link:hover{background-color:var(--fg-color)}.abt-lwis .lwis-logo path{fill:var(--bg-color-restrained)}.pp{color:var(--mg-text-color)}}@layer theme{@media (max-width:660px){.scr.manager .sb:before{background-color:var(--divider-color)}}}</style><script>"use strict";const htmlElem=document.documentElement,appMeta=document.querySelector('meta[name="application-name"]'),appName=appMeta.content,appVersion=appMeta.dataset.appVersion,appTitleParts=[appName],darkThemeMediaQuery=matchMedia("(prefers-color-scheme:dark)");let savedTheme=localStorage.getItem("stonetable_color_mode"),osTheme=darkThemeMediaQuery.matches?"dark":"light";const isCompact=matchMedia("(max-width:660px)");let isLocalServer;const appApiLatestVersionEndpoint=appMeta.dataset.appApiLatestVersion;function createElement(e,t={}){var a,n,s=document.createElement(e);for([a,n]of Object.entries(t))switch(a){case"classes":s.classList.add(...n);break;case"text":s.innerText=n;break;case"id":s.id=n;break;case"attrs":for(var[r,o]of Object.entries(n))s.setAttribute(r,o);break;case"title":s.title=n;break;case"html":s.innerHTML=n}return s}function stringTransliterateToLatin(e){return e.normalize("NFD").replace(/\p{Diacritic}/gu,"")}function stringInsertAt(e,t,a){return isNaN(t)&&(t=0),e.slice(0,t).concat(a,e.slice(t))}function stringIndexOfAll(e,t,a=0){var n,s=[];for(a=Math.max(0,a);-1!==(n=e.indexOf(t,a));)s.push(n),a=n+1;return s}function stringWrap(t,e,a,n,s){let r=0,o;return e.forEach(e=>{o=e+r,t=stringInsertAt(t,o,n),r+=n.length,o=e+r+a,t=stringInsertAt(t,o,s),r+=s.length}),t}function markSubstringsInString(e,t,a="<mark>",n="</mark>"){var s=stringTransliterateToLatin(e).toLowerCase(),t=stringTransliterateToLatin(t).toLowerCase(),s=stringIndexOfAll(s,t);return s.length?stringWrap(e,s,t.length,a,n):e}function writeToClipboard(e,t,a){navigator.clipboard.writeText(e).then(()=>{shortNotifications.send("Copied to clipboard"),"function"==typeof t&&t()},e=>{raiseDialogMessage("Failed to write to clipboard: "+e),"function"==typeof a&&a()})}function resetAppTitle(){document.title=appTitleParts.join(" | ")}function saveColorModeInLocalStorage(e){let t=!1;try{localStorage.setItem("stonetable_color_mode",e),savedTheme=e,t=!0}catch(e){raiseDialogMessage("Could not save color mode in local storage: "+e.reason)}return t}function switchOnOsColorMode(){getCurrentTheme()!==osTheme&&htmlElem.setAttribute("data-theme",osTheme),localStorage.removeItem("stonetable_color_mode"),savedTheme=void 0,htmlElem.setAttribute("data-color-mode","os")}function switchOnLightColorMode(){"light"!==getCurrentColorMode()&&saveColorModeInLocalStorage("light")&&(htmlElem.setAttribute("data-color-mode","light"),htmlElem.setAttribute("data-theme","light"))}function switchOnDarkColorMode(){"dark"!==getCurrentColorMode()&&saveColorModeInLocalStorage("dark")&&(htmlElem.setAttribute("data-color-mode","dark"),htmlElem.setAttribute("data-theme","dark"))}function switchOnNextColorMode(){var e=getCurrentColorMode();("os"===e?switchOnLightColorMode:"light"===e?switchOnDarkColorMode:switchOnOsColorMode)()}function switchOnChosenColorMode(e){"light"===e?switchOnLightColorMode():"dark"===e?switchOnDarkColorMode():"os"===e&&switchOnOsColorMode()}function getCurrentTheme(){return htmlElem.getAttribute("data-theme")}function getCurrentColorMode(){return htmlElem.getAttribute("data-color-mode")}function onOsThemeChange(e){osTheme=e.matches?"dark":"light","os"===getCurrentColorMode()&&switchOnOsColorMode()}function isFullscreen(){return!(!document.fullscreenElement&&!document.webkitFullscreenElement)&&(document.fullscreenElement?document.fullscreenElement===document.body:document.webkitFullscreenElement===document.body)}function enterFullscreen(){var e=document.body;e.requestFullscreen?e.requestFullscreen().catch(e=>{raiseDialogMessage("Error attempting to enable fullscreen mode: "+e.message+` (${e.name})`)}):e.webkitRequestFullscreen?e.webkitRequestFullscreen():raiseDialogMessage("Fullscreen mode not supported by your browser")}function exitFullscreen(){isFullscreen()&&(document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen&&document.webkitExitFullscreen())}function createSimpleMessageElement(e){var t=createElement("article",{classes:["msg","msg-shrt"]});return t.append(createElement("p",{text:e})),t}function getTopLeftOffset(e,t,a){let n,s;const r=t.getBoundingClientRect(),o=a.getBoundingClientRect(),i=o.width,l=o.height,c=htmlElem.clientWidth,d=htmlElem.clientHeight,u=e=>{e="top"===e||"bottom"===e?"y":"x";return[e,"y"==e?l:i]};var h=e=>{var[t,a]=u(e),t="y"===t?d:c;return r[e]+Math.min(0,t-(r[e]+a))},p=e=>{var[,t]=u(e);return Math.max(0,r[e]-t)};switch(e){case"TL":n=p("top"),s=h("left");break;case"TR":n=p("top"),s=p("right");break;case"RT":n=h("top"),s=h("right");break;case"RB":n=p("bottom"),s=h("right");break;case"BR":n=h("bottom"),s=p("right");break;case"BL":n=h("bottom"),s=h("left");break;case"LB":n=p("bottom"),s=p("left");break;case"LT":n=h("top"),s=p("left")}return[n,s]}function amendLocationUrl(e){var t,a,n=new URL(location);let s=0;for([t,a]of Object.entries(e))n.searchParams.has(t)&&n.searchParams.get(t)==a||(s++,n.searchParams.has(t)&&n.searchParams.delete(t),n.searchParams.append(t,a));return s?n:null}function removeParamsFromUrl(t,e,a=!1){let n=0;return e.forEach(e=>{t.searchParams.has(e)&&(t.searchParams.delete(e),n++)}),a?[t,n]:t}function removeLocationParams(e){var{url:e,removedCount:t}=removeParamsFromUrl(new URL(location),e,!0);t&&history.replaceState({},"",e)}function createDialogWith(e,t,a=[]){var a=createElement("dialog",{classes:a}),n=createElement("form",{attrs:{method:"dialog"}}),s=createElement("menu");if(t)for(const[o,i]of Object.entries(t)){var r={value:o},r=(Object.hasOwn(i,"autofocus")&&!0===i.autofocus&&(r.autofocus=""),createElement("button",{text:i.text,attrs:r}));Object.hasOwn(i,"onClick")&&r.addEventListener("click",e=>{i.onClick(e)}),s.append(r)}else s.append(createElement("button",{text:"OK",attrs:{autofocus:""}}));return n.append(s),a.append(...e,n),document.body.appendChild(a)}function raiseDialogWith(e,t,a,n){const s=createDialogWith(e,t,a);s.showModal(),s.addEventListener("close",()=>{"function"==typeof n&&n(s.returnValue),s.remove()})}function raiseDialogMessage(e,t,a,n){raiseDialogWith([createElement("p",{text:e})],t,a,n)}async function getLatestAppVersion(e,t=3e3){return e=e||AbortSignal.timeout(t),fetch(appApiLatestVersionEndpoint,{signal:e}).then(e=>e.json()).then(e=>e.version).catch(e=>{throw console.error("Could not get latest app version",e),e})}savedTheme?switchOnChosenColorMode(savedTheme):switchOnOsColorMode(),darkThemeMediaQuery.addEventListener("change",onOsThemeChange);class ApiRequestError extends Error{constructor(e,t){super(e,t),this.name="ApiRequestError"}}class RequestTimeoutError extends Error{constructor(e,t){super(e,t),this.name="RequestTimeoutError"}}class ScreenCloseException extends DOMException{constructor(e,t){super(e,t)}}async function apiRequest(e,t,a=5e3){const n=(t=t||new AbortController).signal;var s=new Headers({"cache-control":"private"}),s={signal:n,headers:s};const r=setTimeout(()=>{t.abort(new RequestTimeoutError("Request timeout error"))},a);return fetch(e,s).then(e=>{if(clearTimeout(r),404==e.status)throw new ApiRequestError("Given location was not found");if(200!=e.status)throw new ApiRequestError("Invalid status "+e.status);var t=e.headers.get("content-type");if(!t)throw new ApiRequestError("Response is missing content type declaration");if(t.startsWith("application/json"))return e.json();throw new ApiRequestError("Response is not a JSON application")}).then(e=>{if(!("status"in e))throw new ApiRequestError("Invalid response payload");var t=e["status"];if(0!=t&&1!=t)throw new ApiRequestError("Invalid response status");if(0==t)throw t=e.message||"There has been an error",new ApiRequestError(t);if("data"in e)return e;throw new ApiRequestError("Response is missing the data component")}).catch(e=>{if(e instanceof ScreenCloseException)return!1;if(("AbortError"===e.name||e instanceof RequestTimeoutError)&&n.aborted)return!1;if(e instanceof TypeError||e instanceof ApiRequestError)return raiseDialogMessage(e.message),!1;throw e}).finally(()=>{t.abort()})}function produceEmptyControllerButton(e){let t=null;const a=()=>{t&&(t.remove(),t=null)},n=()=>{t||((t=createElement("button",{text:"Empty",classes:["mty-ctrl"]})).addEventListener("click",()=>{e.value="",a(),e.dispatchEvent(new Event("input",{bubbles:!0,cancelable:!1}))}),e.insertAdjacentElement("afterend",t))};e.addEventListener("input",()=>{""!==e.value?n():t&&a()}),""!==e.value&&n()}function bindInputToField(e){const t=e.closest(".fld");var a=()=>{""===e.value?(e.classList.add("blk"),t.classList.add("blk-within")):(e.classList.remove("blk"),t.classList.remove("blk-within"))};e.addEventListener("input",a),a()}class BaseListing{wrapper;group;header;footer;buildWrapper(e){return createElement("div",{classes:["lst",...e]})}buildHeader(){return createElement("div",{classes:["lst-hdr"]})}buildGroup(e="div"){return createElement(e,{classes:["lst-grp"]})}buildFooter(){return createElement("div",{classes:["lst-ftr"]})}}function SearchableApiListing(e,t,a,n,s,r=1,o,i){this.container=e,this.searchInput=e.querySelector("[type=search]"),this.listingGroup=e.querySelector(".lst-grp"),this.listingBody=e.querySelector(".lst-bd"),this.loadMoreButton=e.querySelector(".load-more-btn"),this.pageNumber=r,this.entryBuilder=a,this.abortControllerProvider=n,this.onListingGroupAppend=o,this.onSearchInput=i,this.setEndpointUrl(t),bindInputToField(this.searchInput),produceEmptyControllerButton(this.searchInput),this.bindSearchInput();e=new URL(location);let l=!1;e.searchParams.has(this.searchInput.name)&&(this.searchInput.value=e.searchParams.get(this.searchInput.name),this.searchInput.dispatchEvent(new Event("input",{bubbles:!0,cancelable:!1})),l=!0),this.resizeObserver=this.getResizeObserver(),l||(s?(this.appendGroupContents(s),this.populateStateData(s),this.hasMorePages()&&this.fillUpContents().then(()=>{this.startObservingListingBody()})):this.fillUpContents()),this.loadMoreButton.addEventListener("click",()=>{this.nextPageRequest().then(e=>{!1!==e&&(this.appendGroupContents(e),this.populateStateData(e))})}),this.listingBody.addEventListener("scroll",()=>{this.hasMorePages()&&this.hasReachedScrollThreshold()&&this.nextPageRequest().then(e=>{e&&(this.appendGroupContents(e),this.populateStateData(e))})})}Object.assign(SearchableApiListing.prototype,{setEndpointUrl(e){this.endpointUrl=e instanceof URL?e:new URL(e)},async fillUpContents(){return this.getRemainingSpace()?this.nextPageRequestUntil(e=>(this.populateStateData(e),this.appendGroupContents(e),this.hasMorePages()&&this.getRemainingSpace())):null},getResizeObserver(){let a=!1;return new ResizeObserver(e=>{for(const t of e)this.getRemainingSpace()&&t.target.isConnected&&!a&&this.hasMorePages()&&(a=!0,this.fillUpContents().then(()=>{a=!1}))})},startObservingListingBody(){this.resizeObserver.observe(this.listingBody,{box:"content-box"})},getRemainingSpace(){return Math.max(0,this.listingBody.offsetHeight-this.listingGroup.offsetHeight)},hasReachedScrollThreshold(){return this.listingBody.offsetHeight+this.listingBody.scrollTop>=this.listingGroup.offsetHeight},populateStateData(e){this.container.classList.remove("no-rslt"),this.pageNumber=e.pageNumber,this.maxPages=e.maxPages,e.maxPages<=e.pageNumber?this.loadMoreButton.disabled="true":this.loadMoreButton.removeAttribute("disabled"),e.totalCount||(this.container.classList.add("no-data"),""===this.searchInput.value&&this.container.classList.add("no-rslt"))},hasMorePages(){return this.maxPages>this.pageNumber},searchRequest(e){var t=this.endpointUrl;t.searchParams.set(this.searchInput.name,e),this.request(t.toString())},getRequestUrl(e){var t=this.endpointUrl;let a;e&&Object.hasOwn(e,"searchTerm")?a=e.searchTerm:""!==this.searchInput.value&&(a=this.searchInput.value),a?t.searchParams.set(this.searchInput.name,a):t.searchParams.delete(this.searchInput.name);let n;return e&&Object.hasOwn(e,"pageNumber")?n=e.pageNumber:1!==this.pageNumber&&(n=this.pageNumber),n?t.searchParams.set("page_number",n):t.searchParams.delete("page_number"),t},async request(e){return this.abortController&&this.abortController.abort(),this.abortController=this.abortControllerProvider?this.abortControllerProvider():new AbortController,apiRequest(this.getRequestUrl(e),this.abortController).then(e=>e).catch(e=>{console.error(e)}).finally(()=>{this.container.classList.remove("no-data")})},async nextPageRequest(){return this.pageNumber===this.maxPages?null:this.request({pageNumber:this.pageNumber+1})},async nextPageRequestUntil(t){return this.request({pageNumber:this.pageNumber+1}).then(async e=>{!1!==e&&t(e)&&await this.nextPageRequestUntil(t)})},bindSearchInput(){this.searchInput.addEventListener("input",()=>{this.searchInput.value,"function"==typeof this.onSearchInput&&this.onSearchInput(this.searchInput),this.request({pageNumber:1}).then(e=>{!1!==e&&(e.data.length?(this.populateStateData(e),this.replaceGroupContents(e),this.fillUpContents()):(this.flushGroupContents(),this.container.classList.add("no-data"),this.loadMoreButton.disabled="true"))})})},flushGroupContents(){this.listingGroup.innerHTML=""},replaceGroupContents(e){this.flushGroupContents(),this.appendGroupContents(e)},appendGroupContents(e){"function"==typeof this.onListingGroupAppend&&this.onListingGroupAppend.call(this,e),e.data.forEach(e=>{var t=createElement("div"),t=this.entryBuilder.call(this,e,t);""!==this.searchInput.value&&(t.firstElementChild.innerHTML=markSubstringsInString(t.firstElementChild.innerText,this.searchInput.value)),this.listingGroup.append(t)})},resetData(e){return this.searchInput.value="",this.searchInput.dispatchEvent(new Event("input",{bubbles:!0,cancelable:!1})),this.setEndpointUrl(e),this.flushGroupContents(),this.pageNumber=0,this.fillUpContents()}});class UnitTestsListing extends BaseListing{data;meta;screen;state="pending";catsTotal=0;catsSelectedCount=0;casesSelectedCount=0;abortControllers=new Set;onCountChange=new Set;onExpandCountChange=new Set;onStateChange=new Set;expectedResult="bool(true)\n";expandCount=0;constructor(e,t,a,n=3e3){super(),this.data=e,this.meta=t,this.screen=a,this.caseRequestTimeout=n,this.group=this.buildGroup(),this.header=this.buildHeader(),this.wrapper=this.buildWrapper(["lst-test-case"]),this.wrapper.dataset.state=this.state,this.wrapper.append(this.header,this.group);e=()=>{"running"==this.state&&this.abortAll()};this.screen.onClose(e),"manager"==this.screen.name&&this.screen.onMainPanelClose(e)}buildHeader(){var e=super.buildHeader();const n=createElement("dl",{classes:["stats"]});[["Categories",this.catsTotal,"cats-cn"],["Total",this.meta.total,"tot"]].forEach(([e,t,a])=>{n.append(createElement("dt",{text:e,classes:[a]}),createElement("dd",{text:t}))});var t=createElement("div",{classes:["hdr-inr"]});return t.append(this.buildMenu(),n),e.append(t),e}buildCaseList(e){var t=createElement("ol",{classes:["file-l"]});let a=0;for(const[o,i]of Object.entries(e)){var n=createElement("li",{attrs:{"data-case-id":o}});const l=createElement("div",{classes:["cnt"]});l.addEventListener("click",()=>{l.classList.add("act")});var s=createElement("div",{text:i.basename,title:i.basename,classes:["file-ttl"]}),r=this.screen.createOptionsButtonFor(()=>this.screen.buildContextMenu(i));l.append(s,r),n.append(l),t.append(n),a++}return[t,a]}buildGroup(){var a,n,s=super.buildGroup("ul");for([a,n]of Object.entries(this.data)){const[c,d]=this.buildCaseList(n.files),u=createElement("li",{attrs:{"data-category-id":a,"data-cases-count":d}});var r=createElement("div",{classes:["cnt"]}),o=createElement("div",{classes:["state"],attrs:{role:"button",tabindex:"0"},title:"Select all in category"}),i=(o.addEventListener("click",e=>{e.stopPropagation(),"pending"==this.state&&(u.classList.contains("sel")?(u.classList.remove("sel"),this.updateStateCount(this.catsSelectedCount-1,this.casesSelectedCount-d)):(u.classList.add("sel"),this.updateStateCount(this.catsSelectedCount+1,this.casesSelectedCount+d)))}),createElement("div",{title:n.name,classes:["cat-ttl"]})),l=stringIndexOfAll(n.name,"/");let e="",t;t=l.length?(l=l[l.length-1],e=n.name.substring(0,l),n.name.substring(l)):n.name,e+=`<span class="base">${t}</span>`,i.innerHTML=e+' <span class="file-cn">'+`(${d})</span>`,r.addEventListener("click",()=>{var e=u.classList.toggle("open");this.updateExpandCount(this.expandCount+(e?1:-1))}),r.append(o,i),u.append(r,c),s.append(u),this.catsTotal++}return s}updateStateCount(e,t){void 0!==e&&(this.catsSelectedCount=e),void 0!==t&&(this.casesSelectedCount=t),this.onCountChange.forEach(e=>{e()})}updateExpandCount(e){this.expandCount=e,this.onExpandCountChange.forEach(e=>{e()})}buildMenu(){var e=createElement("menu");for(const a of[{text:"Select All",classes:["slt-all"],disabled:!1,onSelectCountChange(e){e.disabled=this.catsSelectedCount===this.catsTotal},onClick(){this.wrapper.querySelectorAll(":scope > .lst-grp > :not(.sel)").forEach(e=>{e.classList.add("sel")}),this.updateStateCount(this.catsTotal,this.meta.total)},onStateChange(e){e.disabled="pending"!==this.state}},{text:"Deselect All",classes:["dslt-all"],disabled:!0,onSelectCountChange(e){e.disabled=!this.catsSelectedCount},onClick(){this.wrapper.querySelectorAll(":scope > .lst-grp > .sel").forEach(e=>{e.classList.remove("sel")}),this.updateStateCount(0,0)},onStateChange(e){e.disabled="pending"!==this.state}},{text:"Expand All",classes:["exp-all"],disabled:!1,onClick(){this.group.querySelectorAll(":scope > :not(.open)").forEach(e=>{e.classList.add("open")}),this.updateExpandCount(this.catsTotal)},onExpandCountChange(e){e.disabled=this.expandCount===this.catsTotal}},{text:"Collapse All",classes:["coll-all"],disabled:!0,onClick(){this.group.querySelectorAll(":scope > .open").forEach(e=>{e.classList.remove("open")}),this.updateExpandCount(0)},onExpandCountChange(e){e.disabled=!this.expandCount}},{text:"Run Selected",classes:["run-slt"],disabled:!0,onSelectCountChange(e){this.catsSelectedCount?(e.disabled=!1,e.innerText="Run Selected"+` (${this.casesSelectedCount})`):(e.disabled=!0,e.innerText="Run Selected")},onClick(){this.runAllTests()},onStateChange(e){e.disabled="pending"!==this.state}},{text:"Rerun",disabled:!0,onClick(){this.resetAllResults(!1),this.runAllTests()},onStateChange(e){e.disabled="complete"!==this.state}},{text:"Reset Results",classes:["rst-rslt"],disabled:!0,onStateChange(e){e.disabled="complete"!=this.state},onClick(){this.resetAllResults()}},{text:"Abort",classes:["abr"],disabled:!0,onStateChange(e){e.disabled="running"!=this.state},onClick(){this.abortAll()}}]){var t=createElement("button",a);a.disabled&&(t.disabled=!0),Object.hasOwn(a,"onSelectCountChange")&&this.onCountChange.add(a.onSelectCountChange.bind(this,t)),Object.hasOwn(a,"onClick")&&t.addEventListener("click",a.onClick.bind(this,t)),Object.hasOwn(a,"onStateChange")&&this.onStateChange.add(a.onStateChange.bind(this,t)),Object.hasOwn(a,"onExpandCountChange")&&this.onExpandCountChange.add(a.onExpandCountChange.bind(this,t)),e.append(t)}return e}abortAll(){this.abortControllers.size&&this.abortControllers.forEach(e=>{e.signal.aborted||e.abort()}),this.changeState("aborted")}caseItemToFetchPromise(e){var t=e.dataset.caseId,e=e.parentElement.parentElement.dataset.categoryId,t=this.data[e].files[t].url,a=((t=new URL(t)).searchParams.set("format","json"),new Headers({"cache-control":"private"})),n=this.screen.provideAbortController(this.caseRequestTimeout);return[fetch(t,{signal:n.signal,headers:a}),n,e]}getCategoryAndCaseItemsById(e,t){e=this.wrapper.querySelector(`[data-category-id="${e}"]`),t=e.querySelector(`[data-case-id="${t}"]`);return[e,t]}addProcessedCount(e){e.dataset.processedCount?e.dataset.processedCount=parseInt(e.dataset.processedCount)+1:e.dataset.processedCount=1}markError(e,t,a,n){const[s,r]=this.getCategoryAndCaseItemsById(e,t),o=(s.dataset.state="failed",r.dataset.state="failed",createElement("p",{classes:["err"]}));if(o.append(createElement("em",{text:a})),o.addEventListener("click",()=>{o.classList.add("act")}),n){const i=this.screen.createOptionsButton();i.addEventListener("click",()=>{i.classList.contains("open")?r.querySelectorAll(":scope > .code-msg").forEach(e=>{e.remove()}):r.insertAdjacentHTML("beforeend",n),i.classList.toggle("open")}),o.append(i)}r.append(o),this.addProcessedCount(s),s.dataset.failedCount?s.dataset.failedCount++:s.dataset.failedCount=1;e=s.querySelector(":scope > .cnt"),t=e.querySelector(":scope > .fail-cn");t?t.innerText="Failed: "+s.dataset.failedCount:e.append(createElement("em",{text:"Failed: 1",classes:["fail-cn"]}))}markPass(e,t){var[e,t]=this.getCategoryAndCaseItemsById(e,t),t=(t.dataset.state="passed",this.addProcessedCount(e),e.dataset);t.processedCount==t.casesCount&&"failed"!=t.state&&(t.state="passed")}changeState(e){this.state=e,this.onStateChange.forEach(e=>{e()}),this.wrapper&&(this.wrapper.dataset.state=e)}runAllTests(d=10){this.changeState("running");this.wrapper.querySelectorAll(":scope > .lst-grp > * > .cnt > .state").forEach(e=>{e.removeAttribute("role"),e.removeAttribute("tabindex")});const u=this.wrapper.querySelectorAll(":scope > .lst-grp > .sel > ol > li"),h={passed:{className:"pass",count:0},failed:{className:"fail",count:0},processed:{className:"procd",count:0}};let p=0;const n=this.header.querySelector(".stats"),t=(n.insertAdjacentHTML("afterbegin",'<dt class="run procd" data-count="0">Processed</dt><dd>0</dd><dt class="run pass" data-count="0">Passed</dt><dd>0</dd><dt class="run fail" data-count="0">Failed</dt><dd>0</dd>'),(e,t,a)=>{a=a?"/"+a:"",e=":scope > ."+e,e=n.querySelector(e);e.dataset.count=t,e.nextElementSibling.textContent=t+a}),m=e=>{h[e].count++,t(h[e].className,h[e].count),h.processed.count++,t(h.processed.className,h.processed.count,this.casesSelectedCount)},s=e=>{let a=[],n="";return e.forEach(e=>{var t;"message"==e.format&&(n+=e.contents,(t=document.createDocumentFragment()).append(createElement("div",{html:e.contents})),a.push(t.querySelector(".msg > .text").textContent))}),[a.at(-1),n]},b=(e,t,a)=>{e.length&&"ok"!=e.at(-1).contents?(this.markError(t,a,...s(e)),m("failed")):(this.markPass(t,a),m("passed"))},g=()=>{const e=u.length-p;var t=[];const a=[];let n;var s=Math.min(e,d);for(n=0;n<s;n++){var r=n+p,r=u[r];const o=r.dataset.caseId,[i,l,c]=this.caseItemToFetchPromise(r);t.push(i),this.abortControllers.add(l),i.then(e=>{e=e.json();a.push(e),e.then(e=>{b(e,c,o)}).catch(e=>{this.markError(c,o,e.message),m("failed")}).finally(()=>{l.abort()})}).catch(e=>{this.markError(c,o,e.message),m("failed")})}Promise.allSettled(t).then(()=>{Promise.allSettled(a).then(()=>{p+=n,e>=d&&"aborted"!=this.state?g():(this.changeState("complete"),h.processed.count,this.casesSelectedCount,h.passed.count,h.failed.count)})}).catch(e=>{console.error(e)})};g()}resetAllResults(e=!0){this.changeState("pending"),e&&(this.group.querySelectorAll(":scope > .sel").forEach(e=>{e.classList.remove("sel")}),this.updateStateCount(0,0));let a;this.group.querySelectorAll(":scope > [data-state]").forEach(e=>{e.removeAttribute("data-state"),e.removeAttribute("data-processed-count"),e.removeAttribute("data-failed-count"),e.querySelector(":scope > .cnt > .fail-cn")?.remove();var t=e.querySelector(":scope > .cnt > .state");t.setAttribute("role","button"),t.setAttribute("tabindex","0"),e.querySelectorAll(":scope > ol > li").forEach(e=>{e.removeAttribute("data-state"),e.querySelector(":scope > .err")?.remove(),a=":scope > .code-msg",e.querySelectorAll(":scope > .code-msg").forEach(e=>{e.remove()})})}),this.header.querySelectorAll(".stats > .run").forEach(e=>{e.nextElementSibling.remove(),e.remove()})}}function Popup(e,t,a,n="BL",s=!0,r=!1){this.isOpen=!1;var o=createElement("div",{classes:["pp"]}),i=createElement("button",{classes:["cl-btn"],text:"Close Popup"}),i=(i.addEventListener("click",()=>{this.close()}),o.append(i,t),this.container=document.body.appendChild(o),getTopLeftOffset(n,a,this.container));o.style.top=i[0]+"px",o.style.left=i[1]+"px",this.isOpen=!0,this.trigger=e,this.bindedCloseFunction=this.listener.bind(this),document.addEventListener("click",this.bindedCloseFunction,!0),s&&this.bindAllButtonsToClose(),r&&e.addEventListener("click",()=>{this.close()},{once:!0})}Popup.prototype.listener=function(e){this.isEnclosedIn(e.target,this.container)||this.isEnclosedIn(e.target,this.trigger)||this.close()},Popup.prototype.close=function(){if(!this.isOpen)return null;this.container.style.visibility="hidden",this.container.remove(),this.isOpen=!1,document.removeEventListener("click",this.bindedCloseFunction,!0)},Popup.prototype.isEnclosedIn=function(e,t){for(;e&&e!==t;)e=e.parentElement;return!!e},Popup.prototype.bindAllButtonsToClose=function(){for(const e of this.container.getElementsByTagName("button"))e.addEventListener("click",()=>{this.close()})};let currentLoadedScreen,stateObj={},connectData;const genericScreen={container:null,isLoaded:!1,internalParams:[],onCloseCallbacks:new Set,queryParams:["project","side","main","project_search_query","file_search_query"],menuItems:[{title:"About "+appName,event:function(){var e=document.getElementById("about-lwis-template").content.cloneNode(!0);e.querySelectorAll(".cur-ver").forEach(e=>{e.textContent=appVersion}),e.querySelectorAll(".cur-year").forEach(e=>{e.textContent=(new Date).getFullYear()});const a=e.querySelector(".upg-sts");let t,n=!0;a.dataset.status="pending",getLatestAppVersion(AbortSignal.timeout(3e3)).then(t=>{n&&(t==appVersion?a.dataset.status="ok":(a.dataset.status="upgrade",a.querySelectorAll(".last-ver").forEach(e=>{e.textContent=t})))}).catch(e=>{a.dataset.status="error",console.error("Could not check latest version",e)}),t=()=>{n=!1},raiseDialogWith(e.children,null,["abt-lwis"],t)},buttonClassList:["show-info-btn"]},{title:"Toggle fullscreen",event:function(){(isFullscreen()?exitFullscreen:enterFullscreen)()},buttonClassList:["tgl-fscr-btn"],enabled:document.fullscreenEnabled||document.webkitFullscreenEnabled},{title:"Toggle between OS, light, and dark color modes",text:"Toggle color modes",event:function(){switchOnNextColorMode()},buttonClassList:["tgl-clr-mode"]}],abortControllers:new Set,publishParamsIntoURL(e){var t,a,n=Object.create(null);for([t,a]of Object.entries(e))this.queryParams.includes(t)&&(n[t]=a);return amendLocationUrl(n)},releaseParams(e){for(var[t]of Object.entries(stateObj))!this.queryParams.includes(t)&&!this.internalParams.includes(t)||e&&!e.includes(t)||delete stateObj[t];var a,n=new URL(location);for([a]of new URLSearchParams(n.search).entries())!this.queryParams.includes(a)||e&&!e.includes(a)||n.searchParams.delete(a);stateObj,n.toString(),history.pushState(stateObj,"",n)},setParams(e,t="push"){var a,n,s=Object.create(null);for([a,n]of Object.entries(e)){this.queryParams.includes(a)&&(s[a]=n);var r=Object.create(null);r[a]=n,stateObj={...stateObj,...r}}let o=amendLocationUrl(s);o=o||new URL(location),"push"==t?(stateObj,o.toString(),history.pushState(stateObj,"",o)):(stateObj,o.toString(),history.replaceState(stateObj,"",o))},buildWrappers(){var e=createElement("div",{classes:["scr",this.name],attrs:{"data-screen-name":this.name}}),t=(e.append(this.buildToolbar()),createElement("div",{classes:["scr-bd"]})),a=(e.append(t),createElement("div",{classes:["scr-inr"]}));return t.append(a),[e,a]},onClose(e){this.onCloseCallbacks.add(e)},close(){return this.isLoaded?(this.name,this.clearAbortControllers(),this.container.remove(),document.body.removeAttribute("data-current-screen-name"),this.isLoaded=!1,this.onCloseCallbacks.size&&this.onCloseCallbacks.forEach(e=>{e()}),!0):null},wrapperToBody(e){this.container=document.body.insertAdjacentElement("afterbegin",e),this.toolbar=this.container.querySelector(".scr-tb"),document.body.setAttribute("data-current-screen-name",this.name)},finishLoading(){this.isLoaded=!0,currentLoadedScreen=this},extractFromTemplate(){var e=`template[data-screen-name="${this.name}"]`;return document.querySelector(e).content.cloneNode(!0)},bindCloseButtons(e){for(const t of e.getElementsByClassName("scr-cl-btn"))t.addEventListener("click",()=>{this.releaseParams(),landingScreen.load()})},bindFullscreenButtons(e){for(const t of e.getElementsByClassName("scr-fscr-btn"))t.addEventListener("click",()=>{enterFullscreen()})},buildToolbar(){var e=createElement("div",{classes:["tb","scr-tb"],id:"screen-toolbar"});const a=createElement("menu",{classes:["scr-menu"]});let t=[...this.menuItems,...genericScreen.menuItems];return(t=t.filter(e=>!Object.hasOwn(e,"enabled")||e.enabled)).sort((e,t)=>(Object.hasOwn(e,"position")||(e.position=0),Object.hasOwn(t,"position")||(t.position=0),e.position<t.position?-1:e.position>t.position?1:0)),t.forEach(e=>{const t=createElement("button",{text:e.text||e.title,classes:e.buttonClassList,title:e.title});a.append(t),Object.hasOwn(e,"event")&&t.addEventListener("click",()=>{e.event.call(this,t,a)}),Object.hasOwn(e,"build")&&e.build.call(this,t,a)}),e.append(a),e},provideAbortController(e){const t=new AbortController;this.abortControllers.add(t);let a;return e&&(a=setTimeout(()=>{t.signal.aborted||t.abort(new RequestTimeoutError("Request timeout error"))},e)),t.signal.addEventListener("abort",()=>{a&&clearTimeout(a),this.abortControllers.delete(t),this.name}),t},clearAbortControllers(){this.abortControllers.size&&(this.abortControllers.size,this.abortControllers.forEach(e=>{e.signal.aborted||e.abort(new ScreenCloseException("Closing screen "+this.name))}),this.abortControllers.clear())},adoptToolbarContents(e){var t=e.querySelector(".scr-tb"),a=e.querySelector(".scr-menu"),e=e.querySelector("#toolbar");for(const n of e.children)t.insertBefore(n,a);e.remove()},createOptionsButton(e="Opts",t="Show options"){return createElement("button",{text:e,classes:["opt-btn"],title:t})},searchFieldInputCallback(e){var t;""!==e.value?((t={})[e.name]=e.value,this.setParams(t)):this.releaseParams([e.name])}},landingScreen={name:"landing",menuItems:[{title:"Reconnect",event:function(){welcomeScreen.reconnect()},buttonClassList:["rcnt-btn"],position:1}],async load(){connectData=welcomeScreen.getConnectData();const[e,a]=super.buildWrappers();return a.classList.add("wtng"),currentLoadedScreen&&currentLoadedScreen.close(),apiRequest(connectData.projectsListing,this.provideAbortController()).then(e=>{var t;"object"==typeof e&&Array.isArray(e.data)?e.data.length?(t=this.extractFromTemplate(),a.append(t),new SearchableApiListing(a.querySelector(".lst"),connectData.projectsListing,(e,t)=>{var a=createElement("button",{text:e.title});return a.addEventListener("click",()=>{managerScreen.load({project:e.title})}),t.append(a),t},this.provideAbortController.bind(this),e,1,null,super.searchFieldInputCallback.bind(this))):messageScreen.load({message:'No projects found. Qualified projects must contain a system ".config" directory with a properly set up file "project-directory-config.php" inside it.',buttons:[{title:"Retry",action:()=>{shortNotifications.send("Rechecked projects"),this.releaseParams(),landingScreen.load()}},{title:"Reconnect",action:()=>{welcomeScreen.reconnect()}}]}):console.error("Invalid payload type",e)}).catch(e=>{console.error(e)}).finally(()=>{a.classList.remove("wtng")}),super.wrapperToBody(e),super.finishLoading(),a},close(){super.close(),this.releaseParams(["project_search_query"])}},messageScreen={name:"message",menuItems:[{title:"Reconnect",event:function(){welcomeScreen.reconnect()},buttonClassList:["rcnt-btn"],position:1}],async load(e){var[t,a]=super.buildWrappers(),n=createElement("article",{classes:["msg"]}),s=createElement("p",{text:e.message});if(n.append(s),e.buttons&&e.buttons.length){var r=createElement("menu");for(const i of e.buttons){var o=createElement("button",{text:i.title});o.addEventListener("click",()=>{i.screen?(this.releaseParams(),i.screen.load(i.params||{})):i.action&&i.action()}),r.append(o)}n.append(r)}a.append(n),currentLoadedScreen&&currentLoadedScreen.close(),super.wrapperToBody(t),super.finishLoading()}},managerScreen={name:"manager",favoritesStoreIndexName:"stonetable_favorites",menuItems:[{title:"Close screen",event:function(){this.releaseParams(),landingScreen.load()},buttonClassList:["cl-btn","scr-cl-btn"],position:1}],onMainPanelCloseCallbacks:new Set,async load(c,d=!1){if(!Object.hasOwn(c,"project"))return null;const[u,h]=super.buildWrappers();h.classList.add("wtng"),currentLoadedScreen&&currentLoadedScreen.close(),isLocalServer=connectData.isLocalServer;var e=new URL(connectData.projectFind);e.searchParams.set("project_name",c.project),apiRequest(e,this.provideAbortController()).then(t=>{if(!1!==t&&t.data){this.loadedProjectName=c.project;var a=t.data,n=((this.loadedProjectData=a).title,this.extractFromTemplate());h.append(n),this.bindCloseButtons(h),this.bindFullscreenButtons(h),this.adoptToolbarContents(u),shortNotifications.send(c.project+" loaded"),this.sidebar=h.querySelector("#sidebar"),this.mainPanel=h.querySelector("#main-panel"),appTitleParts.unshift(c.project),resetAppTitle(),this.setParams(c,d?null:"push");let e;e=(Object.hasOwn(c,"side")?c:(n=this.toolbar.querySelector(".cat-menu button"),n=Object.fromEntries(new URLSearchParams(n.dataset.query).entries()),this.setParams(n,"replace"),n)).side;n=new URL(connectData.directoryListing),a=(n.searchParams.set("project_path",a.pathname),n.searchParams.set("path",e),this.listing=new SearchableApiListing(h.querySelector(".lst"),n,this.buildFileListingItem.bind(this),this.provideAbortController.bind(this),null,0,function(e){var t;Object.hasOwn(e,"parentDir")&&!this.listingGroup.firstElementChild?.classList.contains("dir-prt")&&(t=createElement("div",{classes:["dir-prt"]}),e.parentDir.basename="..",t=this.entryBuilder.call(this,e.parentDir,t,!1),this.listingGroup.prepend(t))},e=>{var t;""!==e.value?((t={})[e.name]=e.value,this.setParams(t)):this.releaseParams([e.name])}),u.querySelectorAll(".tgl-lo"));for(const o of a)o.addEventListener("click",()=>{var e="data-layout",t=document.body.getAttribute(e);"open"===t?document.body.setAttribute(e,"discrete"):"discrete"===t&&(document.body.setAttribute(e,"open"),this.listing.fillUpContents())});n=Object.hasOwn(c,"main");n?this.loadIntoMainPanel(c.main):this.putOnNoFileMessage();for(const i of this.toolbar.querySelector(".cat-menu").querySelectorAll(":scope > ul > li")){i.firstElementChild.matches("button")&&this.bindQueryButton(i.firstElementChild);var s=i.querySelector(":scope > ul");if(s){var r=this.createOptionsButtonFor(s,i);for(const l of s.children)l.firstElementChild.matches("button")&&this.bindQueryButton(l.firstElementChild);i.append(r),i.classList.add("has-opt"),s.remove()}}this.loadProjectFavorites(),n&&isCompact.matches&&document.body.setAttribute("data-layout","discrete")}else!1===t||t.data?console.error("No payload"):messageScreen.load({message:'Project "'+c.project+'" not found. Qualified projects must contain a system ".config" directory with a properly set up file "project-directory-config.php" inside it.',buttons:[{title:"Retry",action:()=>{shortNotifications.send("Rechecked project"),managerScreen.load(c)}},{title:"Show Project List",action:()=>{this.releaseParams(),landingScreen.load()}}]})}).catch(e=>{console.error(e)}).finally(()=>{h.classList.remove("wtng")}),super.wrapperToBody(u),super.finishLoading()},close(){super.close()&&(appTitleParts.shift(),resetAppTitle())},truncateMainPanel(){this.mainPanel.innerHTML=""},loadIntoSidePanel(e,t=!0){document.body.setAttribute("data-layout","open");var a=this.toolbar.querySelector(".fav-menu"),a=(a&&a.classList.remove("open"),new URL(connectData.directoryListing));a.searchParams.set("project_path",this.loadedProjectData.pathname),a.searchParams.set("path",e),this.listing.resetData(a).then(()=>{t&&this.setParams({side:e}),this.currentSidePath=e})},loadIntoMainPanel(s,r=!0){this.mainPanelAbortController&&!this.mainPanelAbortController.signal.aborted&&this.mainPanelAbortController.abort(),this.removeMainPanelMasterMessage(),this.truncateMainPanel(),this.mainPanel.removeAttribute("data-handler");const e=setTimeout(()=>{this.mainPanel.classList.add("wtng")},150);isCompact.matches&&document.body.setAttribute("data-layout","discrete");let t;"unit-tests"!==s?((t=new URL(connectData.fileHandler)).searchParams.set("project_path",this.loadedProjectData.pathname),t.searchParams.set("path",s)):(t=new URL(connectData.unitTests)).searchParams.set("project_path",this.loadedProjectData.pathname),this.mainPanelAbortController=this.provideAbortController(),apiRequest(t,this.mainPanelAbortController).then(e=>{if(!1!==e){var t=e.data,e=createElement("div",{classes:["tb"]}),a=createElement("div",{classes:["bd"]}),n=createElement("div",{classes:["inr"]});switch(n.append(this.buildMainPanelBreadcrumbsMenu(t.meta)),n.append(this.buildMainPanelControllersMenu(t.meta)),e.append(n),this.mainPanel.append(e,a),this.mainPanelToolbar=e,this.mainPanelBody=a,t.meta.handlerName){case"source-code":this.populateCodeLines(t.parts,t.meta.lineCount);break;case"demo-output":this.populateDemoData(t.parts,t.meta);break;case"unit-tests":this.populateUnitTestsData(t.parts,t.meta);break;default:raiseDialogMessage("Unrecognized handler "+t.meta.handlerName)}this.mainPanel.setAttribute("data-handler",t.meta.handlerName),r&&this.setParams({main:s}),this.currentMainPath=s}else this.putOnNoFileMessage(),removeLocationParams(["main"])}).catch(e=>{console.error(e),raiseDialogMessage("Could not load file: "+e.message),this.putOnNoFileMessage(),removeLocationParams(["main"])}).finally(()=>{clearTimeout(e),this.mainPanel.classList.remove("wtng")})},onMainPanelClose(e){this.onMainPanelCloseCallbacks.add(e)},putOnMainPanelMessage(e){this.mainPanel.append(createSimpleMessageElement(e))},putOnNoFileMessage(){this.putOnMainPanelMessage("No File Selected")},removeMainPanelMasterMessage(){this.mainPanel.querySelector(":scope > .msg")?.remove()},putOnMainPanelBodyMessage(e){this.mainPanelBody.append(createSimpleMessageElement(e))},populateCodeLines(t,a){var e=["grp","code-lns","code-php"],n=(document.body.classList.contains("word-wrap")&&e.push("word-wrap"),createElement("div",{classes:e}));for(let e=1;e<=a;e++){var s=createElement("div"),r=createElement("div",{classes:["line-num"],text:e}),o=createElement("div",{classes:["cnt"]});if(Object.hasOwn(t,e)){o.innerHTML=t[e];const i="data-relative-path";i;for(const l of o.querySelectorAll("[data-relative-path]")){const c=l.getAttribute("data-project"),d=c&&this.loadedProjectName==c;l.addEventListener("click",()=>{if(d)this.loadIntoMainPanel(l.getAttribute(i));else{const t={project:c,main:l.getAttribute(i)};raiseDialogMessage(`Do you want to jump to project "${c}"?`,{no:{text:"No",autofocus:!0},yes:{text:"Yes"},"yes-but":{text:"Yes, But in New Tab",onClick:()=>{var e=removeParamsFromUrl(amendLocationUrl(t),["side"]);open(e.toString(),"_blank")}}},[],e=>{"yes"===e&&managerScreen.load(t)})}}),l.setAttribute("role","button"),l.setAttribute("tabindex","0");let e="Navigate to "+l.dataset.relativePath;d||(e+=` in project "${c}"`),l.title=e}}s.append(r,o),n.append(s)}n.children.length?this.mainPanelBody.append(n):this.putOnMainPanelBodyMessage("Empty Output")},populateDemoData(e,t){t="unit"===t.category&&1===e.length&&void 0!==e[0]&&"output"===e[0].format&&"ok"===e[0].contents;if(!t&&e.length)for(var{format:a,contents:n}of e)"output"===a?((a=createElement("div",{classes:["o"]})).innerHTML=n,this.mainPanelBody.append(a)):this.mainPanelBody.insertAdjacentHTML("beforeend",n);else t?this.mainPanelBody.classList.add("i-host","i-check"):this.putOnMainPanelBodyMessage("Empty Output")},populateUnitTestsData(e,t){0<t.total?(e=new UnitTestsListing(e,t,this),this.mainPanelBody.append(e.wrapper)):this.putOnMainPanelBodyMessage("No Unit Tests")},buildMainPanelBreadcrumbsMenu(e){var t=createElement("menu",{classes:["brcr-menu"]}),e=createElement("button",{text:e.basename,title:"Reload file"});return e.addEventListener("click",()=>{this.reloadMainPanel()}),t.append(e),t},buildMainPanelControllersMenu(e){var t,a=createElement("menu",{classes:["con-menu"]}),n=("unit-tests"!==e.handlerName&&(n=this.createOptionsButtonFor(()=>this.buildContextMenu(e)),a.append(n)),createElement("button",{classes:["rld-btn"],text:"Reload",title:"Reload file"})),s=(n.addEventListener("click",()=>{this.reloadMainPanel()}),createElement("button",{classes:["cl-btn","file-cl-btn"],text:"Close",title:"Close file"}));return s.addEventListener("click",()=>{this.closeMainPanel()}),"source-code"===e.handlerName&&((t=createElement("button",{classes:["tgl-word-wrap-btn"],text:"Toggle word wrap",title:"Toggle word wrapping"})).addEventListener("click",()=>{this.mainPanelBody.querySelector(".code-lns").classList.toggle("word-wrap"),document.body.classList.toggle("word-wrap")}),a.append(t)),a.append(n,s),a},reloadMainPanel(){this.currentMainPath&&this.loadIntoMainPanel(this.currentMainPath)},closeMainPanel(){this.mainPanel.innerHTML="",this.putOnNoFileMessage(),this.releaseParams(["main"]),this.onMainPanelCloseCallbacks.size&&this.onMainPanelCloseCallbacks.forEach(e=>{e()})},buildContextMenu(a){var e=createElement("menu");const n=createElement("ul");function t(e){return Object.hasOwn(a,e)&&null!==a[e]}function s(e,t){const a=createElement("li");e=createElement("button",{text:e});a.append(e),"function"==typeof t&&e.addEventListener("click",()=>{t.call(this,a)}),n.appendChild(a)}function r(e,t){e&&s("Reveal Demo File",()=>{this.loadIntoMainPanel(e)}),t&&isLocalServer&&s("Open Demo File in IDE",()=>{open(t,"_self","noopener")})}function o(e,t){e&&s("Reveal Playground File",()=>{this.loadIntoMainPanel(e)}),isLocalServer&&s("Open Playground in IDE",()=>{open(t,"_self","noopener")})}t("pathname")&&s("Copy Pathname",()=>{writeToClipboard(a.pathname)}),t("basename")&&s("Copy File Name",()=>{writeToClipboard(a.basename)}),t("IdeUri")&&isLocalServer&&s("Open in IDE",()=>{open(a.IdeUri,"_self","noopener")}),t("useLine")&&s("Copy Use Line",()=>{writeToClipboard(a.useLine)}),t("sourceFileRelativePathname")&&s("Reveal Source File",()=>{this.loadIntoMainPanel(a.sourceFileRelativePathname)}),t("sourceFileIdeUri")&&isLocalServer&&s("Open Source in IDE",()=>{open(a.sourceFileIdeUri,"_self","noopener")}),t("playgroundFileCreateUrl")?s("Create Playground File",t=>{fetch(a.playgroundFileCreateUrl).then(e=>e.json()).then(e=>{t.remove(),o.call(this,e.data.relativePathname,e.data.IdeUri),isLocalServer&&open(e.data.IdeUri,"_self","noopener"),this.loadIntoMainPanel(e.data.relativePathname)}).catch(e=>{console.error(e)})}):t("playgroundFilePathname")&&o.call(this,a.playgroundFileRelativePathname,a.playgroundFileIdeUri),t("demoFileCreateUrl")?s("Create Demo File",t=>{fetch(a.demoFileCreateUrl).then(e=>e.json()).then(e=>{t.remove(),r.call(this,e.data.relativePathname,e.data.IdeUri),isLocalServer&&open(e.data.IdeUri,"_self","noopener"),this.loadIntoMainPanel(e.data.relativePathname)}).catch(e=>{console.error(e)})}):t("demoFilePathname")&&r.call(this,a.demoFileRelativePathname,a.demoFileIdeUri),t("staticFilePathname")&&r.call(this,a.staticFileRelativePathname,a.staticFileIdeUri);const i={title:a.basename,place:"file"===a.type?"main":"side",path:a.relativePathname,data:a};return!1!==this.favoriteExists(i.place,i.path)||Object.hasOwn(a,"isSupportedFileType")&&!a.isSupportedFileType||s("Add to Favorites",e=>{!0===this.addToFavorites(...Object.values(i))&&e.remove()}),t("url")&&s("Open URL in New Tab",()=>{open(a.url,"_blank")}),t("rebuildSpecialCommentsUrl")&&s("Rebuild Special Comments",()=>{apiRequest(a.rebuildSpecialCommentsUrl).then(e=>{!1!==e&&(shortNotifications.send("Special comments rebuilt in "+a.basename),this.currentMainPath===a.relativePathname)&&this.reloadMainPanel()})}),e.append(n),e},buildFileListingItem(n,s,e=!0){s.classList.add("type-"+n.type);var t="dir"===n.type||Object.hasOwn(n,"isSupportedFileType")&&(n.isSupportedFileType||isLocalServer),a=createElement(t?"button":"span",{text:n.basename,title:n.basename});if(s.append(a),t&&a.addEventListener("click",()=>{"file"===n.type?n.isSupportedFileType?this.loadIntoMainPanel(n.relativePathname):open(n.IdeUri,"_self","noopener"):"dir"===n.type&&this.loadIntoSidePanel(n.relativePathname)}),e){const r=this.createOptionsButton();let t,a;r.addEventListener("click",()=>{var e=t||this.buildContextMenu(n);t=e,a&&a.isOpen?a.close():(e=new Popup(r,e,s,"RT"),a=e)}),s.append(r)}return s},favoriteExists(e,t){var a,n,s=this.fetchProjectFavorites();for([a,n]of Object.entries(s))if(n.place===e&&n.path===t)return a;return!1},addToFavorites(e,t,a,n){if(!1!==this.favoriteExists(t,a))return shortNotifications.send("Favorite already exists"),null;var s=this.fetchProjectFavorites();let r=0;for(const o of Object.keys(s))o>r&&(r=Number(o));const o=r+1;return s[o]={title:e,place:t,path:a,data:n},!!this.saveProjectFavorites(s)&&(this.addFavoriteButton(e,t,a,o,n),shortNotifications.send("Favorite added"),!0)},fetchAllFavorites(){var e=localStorage.getItem(this.favoritesStoreIndexName);return null===e?Object.create(null):JSON.parse(e)},fetchProjectFavorites(){var e=this.fetchAllFavorites();return Object.hasOwn(e,this.loadedProjectName)?e[this.loadedProjectName]:Object.create(null)},saveAllFavorites(e){try{localStorage.setItem(this.favoritesStoreIndexName,JSON.stringify(e))}catch(e){return raiseDialogMessage("Could not save favorites: "+e.message),!1}return!0},saveProjectFavorites(e){var t=this.fetchAllFavorites();return t[this.loadedProjectName]=e,this.saveAllFavorites(t)},bindQueryButton(t){t.addEventListener("click",()=>{var e=new URLSearchParams(t.dataset.query);e.has("side")&&this.loadIntoSidePanel(e.get("side"),!0),e.has("main")&&this.loadIntoMainPanel(e.get("main"),!0)})},createFavoriteButton(e,t,a){return createElement("button",{text:e,title:e,attrs:{"data-query":t+"="+a}})},addFavoriteButton(e,t,a,n,s){let r=this.toolbar.querySelector(".fav-menu");r||(r=this.buildFavoritesMenu(),this.toolbar.querySelector(".cat-menu").insertAdjacentElement("afterend",r));e=this.createFavoriteButton(e,t,a),t=createElement("li",{classes:["has-opt","type-"+s.type],attrs:{"data-storage-id":n}});const o=createElement("button",{text:"Remove Favorite"});o.addEventListener("click",()=>{this.removeFavorite(n)});a=this.createOptionsButtonFor(()=>{var e=this.buildContextMenu(s);return e.getElementsByTagName("ul")[0].append(createElement("li").appendChild(o).parentElement),e},t);t.append(e,a),this.bindQueryButton(e),r.querySelector(":scope > ul").append(t)},buildFavoritesMenu(){const e=createElement("menu",{classes:["fav-menu"]});var t=createElement("button",{classes:["h"],text:"Favorites"}),a=(t.addEventListener("click",()=>{e.classList.toggle("open")}),createElement("ul"));return e.append(t,a),e},loadProjectFavorites(){var e,t,a=this.fetchProjectFavorites();if(!Object.keys(a).length)return null;for([e,t]of Object.entries(a))this.addFavoriteButton(t.title,t.place,t.path,e,t.data)},removeFavorite(e){var t=this.fetchAllFavorites();if(!Object.hasOwn(t,this.loadedProjectName))return null;var a=t[this.loadedProjectName];if(!Object.hasOwn(a,e))return null;delete a[e];let n=!1;if(Object.keys(a).length||(n=!0,delete t[this.loadedProjectName]),Object.keys(t).length){if(!this.saveAllFavorites(t))return!1}else this.truncateAllFavorites();a=n?".fav-menu":`.fav-menu li[data-storage-id="${e}"]`,t=this.toolbar.querySelector(a);return t&&t.remove(),!0},truncateAllFavorites(){localStorage.removeItem(this.favoritesStoreIndexName)},createOptionsButtonFor(e,t){const a=this.createOptionsButton();let n;return a.setAttribute("aria-haspopup","menu"),a.addEventListener("click",()=>{n&&n.isOpen?n.close():n=new Popup(a,"function"==typeof e?e():e,t||a)}),a}},welcomeScreen={name:"welcome",menuItems:[],connectDataStoreIndexName:"stonetable_connect_data",async load(){var[e,t]=super.buildWrappers(),a=this.extractFromTemplate();t.append(a);const n=t.querySelector("[type=url]");produceEmptyControllerButton(n),bindInputToField(n),""===n.value&&(n.value=this.buildGetEndpointsUrl().toString(),n.dispatchEvent(new Event("input",{bubbles:!0,cancelable:!1})));const s=t.querySelector(".cont-btn"),r=(s.disabled="true",s.addEventListener("click",()=>{s.disabled="true",s.classList.add("wtng"),n.disabled="true",this.verifyConnectEndpointUrl(n.value).then(e=>{!1!==e&&(this.storeConnectData(e),connectData=e,isLocalServer=e.isLocalServer,landingScreen.load())}).catch(e=>{raiseDialogMessage("Could not verify connect endpoint url: "+e.message)}).finally(()=>{s.removeAttribute("disabled"),s.classList.remove("wtng"),n.removeAttribute("disabled")})}),()=>{n.validity.valid?s.removeAttribute("disabled"):s.disabled="true"});n.addEventListener("input",()=>{r()}),""!==n.value&&r(),currentLoadedScreen&&currentLoadedScreen.close(),super.wrapperToBody(e),""!==n.value&&(a=n.value.length,n.setSelectionRange(a,a)),n.focus(),super.finishLoading()},async verifyConnectEndpointUrl(e){return apiRequest(e,this.provideAbortController()).then(e=>{if(!1===e)return!1;e=e.data;if(this.validateConnectData(e))return e;throw new Error("Incomplete payload data")})},validateConnectData(e){return"directoryListing"in e&&"describeFile"in e&&"projectsListing"in e&&"searchDirectory"in e&&"createPlaygroundFile"in e&&"createDemoFile"in e&&"fileHandler"in e&&"unitTests"in e&&"isLocalServer"in e},storeConnectData(e){if(this.validateConnectData(e))return localStorage.setItem(this.connectDataStoreIndexName,JSON.stringify(e)),!0;throw new Error("Connect data is invalid")},hasConnectedData(){var e=this.connectDataStoreIndexName;return null!==localStorage.getItem(e)},getConnectData(){var e=localStorage.getItem(this.connectDataStoreIndexName);return JSON.parse(e)},reconnect(){localStorage.removeItem(this.connectDataStoreIndexName),this.load()},buildGetEndpointsUrl(){let e=location.pathname;var t=(e=(e=e.endsWith("index.html")?e.substring(0,e.length-10):e).endsWith("/")?e.substring(0,e.length-1):e).lastIndexOf("/"),a=(-1!==t&&(e=e.substring(0,t)),e+="/api/get-endpoints.php",new URL(document.location));for(const n of a.searchParams.keys())a.searchParams.delete(n);return a.pathname=e,a}},shortNotifications=(Object.setPrototypeOf(welcomeScreen,genericScreen),Object.setPrototypeOf(landingScreen,genericScreen),Object.setPrototypeOf(messageScreen,genericScreen),Object.setPrototypeOf(managerScreen,genericScreen),{defaultTimeout:3e3,init(){var e=createElement("div",{id:"short-notifications",classes:["shrt-notifs"]});this.container=document.body.appendChild(e)},send(e,t=this.defaultTimeout){new ShortNotification(e,t)}});function ShortNotification(e,t){var a=this.createElement();a.innerText=e,this.container=shortNotifications.container.appendChild(a),this.timeoutHandlerId=setTimeout(()=>{this.close()},t),this.container.addEventListener("click",()=>{this.close(),clearTimeout(this.timeoutHandlerId)})}function factoryParams(e,t=!1){(welcomeScreen.hasConnectedData()?e&&Object.hasOwn(e,"project")?(connectData=connectData||welcomeScreen.getConnectData(),managerScreen):landingScreen:welcomeScreen).load(e,t)}Object.assign(ShortNotification.prototype,{createElement(){return createElement("div",{classes:["shrt-notif"]})},close(){this.container.remove()}}),window.addEventListener("popstate",e=>{factoryParams(e.state,!0),e.state});const init=()=>{var e=new URLSearchParams(location.search);factoryParams(Object.fromEntries(e.entries())),shortNotifications.init()};"interactive"===document.readyState?init():document.addEventListener("DOMContentLoaded",init);</script></head><body data-layout=open><template class=scr-tpl data-screen-name=welcome id=welcome-screen-template><article><h1 class=h>Connect</h1><p class=t>Please provide a working URL to the get-endpoints.php file, which is located in /api directory.</p><p><label class=fld for=connect-endpoint-url><span class=ttl>URL:</span> <input type=url name=url id=connect-endpoint-url required></label></p><menu><button class=cont-btn>Continue</button></menu></article></template><template class=scr-tpl data-screen-name=landing id=landing-screen-template><div class=lst><header class=lst-hdr><h1 class="h lst-h">My Projects</h1><p><label class="fld fld-srch" for=projects-search-field><span class=ttl>Search all projects</span> <input type=search name=project_search_query id=projects-search-field placeholder="Search all projects" autocapitalize=off autocorrect=off></label></p></header><div class=lst-bd><div class=lst-grp></div><footer class=lst-ftr><button class=load-more-btn>Load more</button><article class="msg msg-mty"><p>No projects found</p></article></footer></div></div></template><template class=scr-tpl data-screen-name=manager id=manager-screen-template><div id=toolbar><div class=scr-cnt-con><button class=tgl-lo title="Toggle layout">Toggle layout</button><div class=scr-cnt-con-bd><menu class=cat-menu><span class=h>Categories</span><ul><li><button data-query="side=src" title="Open source directory">Source</button></li><li><button data-query="side=test/demo/static" title="Open demo directory">Demos</button></li><li><button data-query="side=test/units/static" title="Open unit tests directory">Units</button><ul><li><button data-query="main=unit-tests">Show Automated Tests</button></li></ul></li></ul></menu></div></div></div><aside class=sb id=sidebar><div class="lst lst-file"><header class=lst-hdr><h2 class="h lst-h">Files</h2><p><label class="fld fld-srch" for=side-search-field><span class=ttl>Search current directory</span> <input type=search name=file_search_query id=side-search-field placeholder="Search current directory" autocapitalize=off autocorrect=off></label></p></header><div class=lst-bd><div class=lst-grp></div><footer class=lst-ftr><button class=load-more-btn>Load more</button><article class="msg msg-mty"><p>No files found</p></article></footer></div></div></aside><main class=main-pnl id=main-panel></main></template><template id=about-lwis-template><p class=app-logo><a href=https://www.lwis.net/stonetable/ title="Visit Stonetable website"><svg viewBox="0 0 100 100" xmlns=http://www.w3.org/2000/svg><path d="M 0,0 h 100 v 100 h -100 Z" fill=#3b2c52 /><path d="M 50,0 l 50,50 v 25 h -100 v -25 Z" fill=#d14a4e /><path d="M 50,25 l 50,50 v 25 h -100 v -25 Z" fill=#fcc831 /><path d="M 50,50 l 50,50 h -100, Z" fill=#5cb592 /></svg></a></p><h2>Stonetable v<span class=cur-ver></span></h2><p class=upg-sts data-status=pending><span class=wtng>Checking latest version...</span> <span class=ok>You are running the latest version.</span> <span class=upg>A new <strong>v<span class=last-ver></span></strong> version is out. Please <a href=https://www.lwis.net/stonetable/#readme-and-download target=_blank title="Visit the download page">download the update</a>.</span> <span class=err>Error checking the latest version.</span></p><p>Stonetable is created by <a href=https://www.lwis.net/ target=_blank title="Visit LWIS Technologies website">LWIS Technologies</a>. This project is released under the <a href=https://github.com/TomasBagdanavicius/stonetable/blob/main/LICENSE target=_blank title="Read the MIT License">MIT License</a>.</p><ul><li><a href=https://www.lwis.net/stonetable/ target=_blank title="Visit Stonetable website">Stonetable website</a></li><li><a href=https://github.com/TomasBagdanavicius/stonetable target=_blank title="Navigate to GitHub repository">Visit GitHub repository</a></li><li><a href=https://www.linkedin.com/in/tomas-bagdanavicius target=_blank title="Open LinkedIn">Connect with us on LinkedIn</a></li><li><a href=https://www.lwis.net/stonetable/#support-thanks target=_blank title="Please support us">Please donate to support further development</a></li></ul><p><small>&copy; <span class=cur-year></span> LWIS Technologies</small></p><p class=lwis-logo><a href=https://www.lwis.net/ target=_blank title="Visit LWIS Technologies website"><svg viewBox="0 0 400 100" xmlns=http://www.w3.org/2000/svg><path d="M 76,8 L 110.5,49.5 L 69,100 L 0,100" fill=#000 /><path d="M 83,0 L 152,0 L 234,100 L 165,100" fill=#000 /><path d="M 166,0 L 235,0 L 317,100 L 248,100" fill=#000 /><path d="M 249,0 L 318,0 L 400,100 L 331,100" fill=#000 /></svg></a></p></template></body></html>